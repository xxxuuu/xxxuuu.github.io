(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95549],{68787:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[prefix]/[slug]",function(){return o(77600)}])},77600:function(e,t,o){"use strict";o.r(t),o.d(t,{__N_SSG:function(){return i}});var l=o(85893),n=o(97825),i=!0;t.default=e=>(0,l.jsx)(n.default,{...e})},97825:function(e,t,o){"use strict";o.r(t),o.d(t,{__N_SSG:function(){return _},default:function(){return h}});var l=o(85893),n=o(67294),i=()=>{let[e,t]=(0,n.useState)(""),[o,i]=(0,n.useState)(!1),r=()=>{i(!1),t("")};return{showNotification:e=>{t(e),i(!0),setTimeout(()=>{r()},3e3)},closeNotification:r,Notification:()=>(0,l.jsx)("div",{className:"notification fixed left-0 w-full px-2 z-20 bottom-14",children:(0,l.jsxs)("div",{className:" ".concat(o&&e?"opacity-100 ":"invisible opacity-0 bottom-0"," transition-opacity duration-200 \n           max-w-3xl mx-auto bg-green-500 flex items-center justify-between px-4 py-2 text-white rounded-lg shadow-lg"),children:[e,(0,l.jsx)("button",{onClick:r,className:"ml-4 p-2 cursor-pointer bg-transparent text-white border-none",children:(0,l.jsx)("i",{className:"fas fa-times"})})]})})}},r=o(69325),a=o(26964),s=o(58622);let u={header:0,sub_header:1,sub_sub_header:2},d=(e,t)=>{var o;let l=function e(t,o,l){if(l||(l=[]),!t)return l;for(let a of t){var n,i,r;let t=null===(n=o.block[a])||void 0===n?void 0:n.value;if(!t)continue;let{type:d}=t;d.indexOf("header")>=0&&!l.find(e=>e.id===a)&&l.push({id:a,type:d,text:(0,s.FB)(null===(r=t.properties)||void 0===r?void 0:r.title),indentLevel:u[d]}),(null===(i=t.content)||void 0===i?void 0:i.length)>0&&e(t.content,o,l)}return l}(null!==(o=e.content)&&void 0!==o?o:[],t),n=[{actual:-1,effective:-1}];for(let e of l){let{indentLevel:t}=e;for(;;){let{actual:o,effective:l}=n[n.length-1];if(t>o)e.indentLevel=l+1,n.push({actual:t,effective:e.indentLevel});else if(t===o){e.indentLevel=l;break}else n.pop()}}return l};var c=o(78174);let f=e=>{let t=new URL(e,c.isBrowser?window.location.origin:""),o=Object.fromEntries(t.searchParams.entries());o.password&&localStorage.setItem("password_default",o.password);let l=t.pathname,n=localStorage.getItem("password_"+l),i=localStorage.getItem("password_default");return[o.password,n,i].filter(Boolean)};var v=o(31123),p=o(88495),b=o.n(p),w=o(11163),_=!0,h=e=>{let{post:t}=e,o=(0,w.useRouter)(),{locale:s}=(0,a.O)(),[u,c]=(0,n.useState)((null==t?void 0:t.password)&&(null==t?void 0:t.password)!==""),{showNotification:p,Notification:_}=i(),h=e=>{if(!t)return!1;let l=b()((null==t?void 0:t.slug)+e);return!!e&&l===(null==t?void 0:t.password)&&(c(!1),localStorage.setItem("password_"+o.asPath,e),p(s.COMMON.ARTICLE_UNLOCK_TIPS),!0)};(0,n.useEffect)(()=>{if((null==t?void 0:t.password)&&(null==t?void 0:t.password)!=="")c(!0);else{var e;c(!1),!u&&(null==t?void 0:null===(e=t.blockMap)||void 0===e?void 0:e.block)&&(t.content=Object.keys(t.blockMap.block).filter(e=>{var o,l;return(null===(l=t.blockMap.block[e])||void 0===l?void 0:null===(o=l.value)||void 0===o?void 0:o.parent_id)===t.id}),t.toc=d(t,t.blockMap))}let l=f(o.asPath);if(l.length>0){for(let e of l)if(h(e))break}},[t]),(0,n.useEffect)(()=>{var e;!u&&(null==t?void 0:null===(e=t.blockMap)||void 0===e?void 0:e.block)&&(t.content=Object.keys(t.blockMap.block).filter(e=>{var o,l;return(null===(l=t.blockMap.block[e])||void 0===l?void 0:null===(o=l.value)||void 0===o?void 0:o.parent_id)===t.id}),t.toc=d(t,t.blockMap))},[o,u]),e={...e,lock:u,setLock:c,validPassword:h};let k=(0,v.getLayoutByTheme)({theme:(0,r.JA)("THEME"),router:(0,w.useRouter)()});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(k,{...e}),(null==t?void 0:t.password)&&(null==t?void 0:t.password)!==""&&!u&&(0,l.jsx)(_,{})]})}}},function(e){e.O(0,[88495,92888,49774,40179],function(){return e(e.s=68787)}),_N_E=e.O()}]);