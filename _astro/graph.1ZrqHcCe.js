import{aO as T,aP as C,aQ as z,aR as R,aS as S,aT as k,aU as V,aV as L,aW as K,aX as j,aY as ee,aZ as te,a_ as re,a$ as se,b0 as ne,b1 as ie,aE as ae,b2 as oe,b3 as ue,b4 as he,b5 as y,b6 as $,b7 as v}from"./mermaid.core.CtRPnIEe.js";import{k as d,g as Y,s as de,e as ce,f as fe,h as ge,j as le,c as be,l as _e,b as pe,m,n as g,r as ye}from"./_baseUniq.CBBieZCC.js";function me(e,t){return e&&T(t,d(t),e)}function je(e,t){return e&&T(t,C(t),e)}function Te(e,t){return T(e,Y(e),t)}var Oe=Object.getOwnPropertySymbols,W=Oe?function(e){for(var t=[];e;)ce(t,Y(e)),e=z(e);return t}:de;function Ee(e,t){return T(e,W(e),t)}function Ae(e){return fe(e,C,W)}var Ce=Object.prototype,Le=Ce.hasOwnProperty;function we(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Le.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function Ne(e,t){var r=t?R(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Pe=/\w*$/;function Fe(e){var t=new e.constructor(e.source,Pe.exec(e));return t.lastIndex=e.lastIndex,t}var I=S?S.prototype:void 0,D=I?I.valueOf:void 0;function Se(e){return D?Object(D.call(e)):{}}var $e="[object Boolean]",ve="[object Date]",Ie="[object Map]",De="[object Number]",Me="[object RegExp]",Ue="[object Set]",Ge="[object String]",xe="[object Symbol]",Be="[object ArrayBuffer]",Re="[object DataView]",Ve="[object Float32Array]",Ke="[object Float64Array]",Ye="[object Int8Array]",We="[object Int16Array]",qe="[object Int32Array]",He="[object Uint8Array]",Qe="[object Uint8ClampedArray]",Xe="[object Uint16Array]",Ze="[object Uint32Array]";function Je(e,t,r){var s=e.constructor;switch(t){case Be:return R(e);case $e:case ve:return new s(+e);case Re:return Ne(e,r);case Ve:case Ke:case Ye:case We:case qe:case He:case Qe:case Xe:case Ze:return k(e,r);case Ie:return new s;case De:case Ge:return new s(e);case Me:return Fe(e);case Ue:return new s;case xe:return Se(e)}}var ze="[object Map]";function ke(e){return V(e)&&L(e)==ze}var M=j&&j.isMap,et=M?K(M):ke,tt="[object Set]";function rt(e){return V(e)&&L(e)==tt}var U=j&&j.isSet,st=U?K(U):rt,nt=1,it=2,at=4,q="[object Arguments]",ot="[object Array]",ut="[object Boolean]",ht="[object Date]",dt="[object Error]",H="[object Function]",ct="[object GeneratorFunction]",ft="[object Map]",gt="[object Number]",Q="[object Object]",lt="[object RegExp]",bt="[object Set]",_t="[object String]",pt="[object Symbol]",yt="[object WeakMap]",mt="[object ArrayBuffer]",jt="[object DataView]",Tt="[object Float32Array]",Ot="[object Float64Array]",Et="[object Int8Array]",At="[object Int16Array]",Ct="[object Int32Array]",Lt="[object Uint8Array]",wt="[object Uint8ClampedArray]",Nt="[object Uint16Array]",Pt="[object Uint32Array]",o={};function O(e,t,r,s,n,i){var a,h=t&nt,u=t&it,c=t&at;if(void 0!==a)return a;if(!ee(e))return e;var l=ae(e);if(l){if(a=we(e),!h)return te(e,a)}else{var _=L(e),b=_==H||_==ct;if(re(e))return se(e,h);if(_==Q||_==q||b&&!n){if(a=u||b?{}:ne(e),!h)return u?Ee(e,je(a,e)):Te(e,me(a,e))}else{if(!o[_])return n?e:{};a=Je(e,_,h)}}i||(i=new ie);var p=i.get(e);if(p)return p;i.set(e,a),st(e)?e.forEach(function(s){a.add(O(s,t,r,s,e,i))}):et(e)&&e.forEach(function(s,n){a.set(n,O(s,t,r,n,e,i))});var f=l?void 0:(c?u?Ae:ge:u?C:d)(e);return le(f||e,function(s,n){f&&(s=e[n=s]),oe(a,n,O(s,t,r,n,e,i))}),a}function Ft(e,t){return be(t,function(t){return e[t]})}function E(e){return null==e?[]:Ft(e,d(e))}function _(e){return void 0===e}o[q]=o[ot]=o[mt]=o[jt]=o[ut]=o[ht]=o[Tt]=o[Ot]=o[Et]=o[At]=o[Ct]=o[ft]=o[gt]=o[Q]=o[lt]=o[bt]=o[_t]=o[pt]=o[Lt]=o[wt]=o[Nt]=o[Pt]=!0,o[dt]=o[H]=o[yt]=!1;var St=ue(function(e){return _e(pe(e,1,he,!0))}),$t="\0",l="\0",G="";class X{constructor(e={}){this._isDirected=!Object.prototype.hasOwnProperty.call(e,"directed")||e.directed,this._isMultigraph=!!Object.prototype.hasOwnProperty.call(e,"multigraph")&&e.multigraph,this._isCompound=!!Object.prototype.hasOwnProperty.call(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=y(void 0),this._defaultEdgeLabelFn=y(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[l]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return $(e)||(e=y(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return d(this._nodes)}sources(){var e=this;return m(this.nodes(),function(t){return v(e._in[t])})}sinks(){var e=this;return m(this.nodes(),function(t){return v(e._out[t])})}setNodes(e,t){var r=arguments,s=this;return g(e,function(e){r.length>1?s.setNode(e,t):s.setNode(e)}),this}setNode(e,t){return Object.prototype.hasOwnProperty.call(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=l,this._children[e]={},this._children[l][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Object.prototype.hasOwnProperty.call(this._nodes,e)}removeNode(e){if(Object.prototype.hasOwnProperty.call(this._nodes,e)){var t=e=>this.removeEdge(this._edgeObjs[e]);delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],g(this.children(e),e=>{this.setParent(e)}),delete this._children[e]),g(d(this._in[e]),t),delete this._in[e],delete this._preds[e],g(d(this._out[e]),t),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(_(t))t=l;else{for(var r=t+="";!_(r);r=this.parent(r))if(r===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var t=this._parent[e];if(t!==l)return t}}children(e){if(_(e)&&(e=l),this._isCompound){var t=this._children[e];if(t)return d(t)}else{if(e===l)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var t=this._preds[e];if(t)return d(t)}successors(e){var t=this._sucs[e];if(t)return d(t)}neighbors(e){var t=this.predecessors(e);if(t)return St(t,this.successors(e))}isLeaf(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length}filterNodes(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var r=this;g(this._nodes,function(r,s){e(s)&&t.setNode(s,r)}),g(this._edgeObjs,function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,r.edge(e))});var s={};function n(e){var i=r.parent(e);return void 0===i||t.hasNode(i)?(s[e]=i,i):i in s?s[i]:n(i)}return this._isCompound&&g(t.nodes(),function(e){t.setParent(e,n(e))}),t}setDefaultEdgeLabel(e){return $(e)||(e=y(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return E(this._edgeObjs)}setPath(e,t){var r=this,s=arguments;return ye(e,function(e,n){return s.length>1?r.setEdge(e,n,t):r.setEdge(e,n),n}),this}setEdge(){var e,t,r,s,n=!1,i=arguments[0];"object"==typeof i&&null!==i&&"v"in i?(e=i.v,t=i.w,r=i.name,2===arguments.length&&(s=arguments[1],n=!0)):(e=i,t=arguments[1],r=arguments[3],arguments.length>2&&(s=arguments[2],n=!0)),e=""+e,t=""+t,_(r)||(r=""+r);var o=p(this._isDirected,e,t,r);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,o))return n&&(this._edgeLabels[o]=s),this;if(!_(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[o]=n?s:this._defaultEdgeLabelFn(e,t,r);var a=vt(this._isDirected,e,t,r);return e=a.v,t=a.w,Object.freeze(a),this._edgeObjs[o]=a,x(this._preds[t],e),x(this._sucs[e],t),this._in[t][o]=a,this._out[e][o]=a,this._edgeCount++,this}edge(e,t,r){var s=1===arguments.length?A(this._isDirected,arguments[0]):p(this._isDirected,e,t,r);return this._edgeLabels[s]}hasEdge(e,t,r){var s=1===arguments.length?A(this._isDirected,arguments[0]):p(this._isDirected,e,t,r);return Object.prototype.hasOwnProperty.call(this._edgeLabels,s)}removeEdge(e,t,r){var s=1===arguments.length?A(this._isDirected,arguments[0]):p(this._isDirected,e,t,r),n=this._edgeObjs[s];return n&&(e=n.v,t=n.w,delete this._edgeLabels[s],delete this._edgeObjs[s],B(this._preds[t],e),B(this._sucs[e],t),delete this._in[t][s],delete this._out[e][s],this._edgeCount--),this}inEdges(e,t){var r=this._in[e];if(r){var s=E(r);return t?m(s,function(e){return e.v===t}):s}}outEdges(e,t){var r=this._out[e];if(r){var s=E(r);return t?m(s,function(e){return e.w===t}):s}}nodeEdges(e,t){var r=this.inEdges(e,t);if(r)return r.concat(this.outEdges(e,t))}}function x(e,t){e[t]?e[t]++:e[t]=1}function B(e,t){--e[t]||delete e[t]}function p(e,t,r,s){var n=""+t,i=""+r;if(!e&&n>i){var o=n;n=i,i=o}return n+G+i+G+(_(s)?$t:s)}function vt(e,t,r,s){var n=""+t,i=""+r;if(!e&&n>i){var o=n;n=i,i=o}var a={v:n,w:i};return s&&(a.name=s),a}function A(e,t){return p(e,t.v,t.w,t.name)}X.prototype._nodeCount=0,X.prototype._edgeCount=0;export{X as G,O as b,_ as i,E as v};