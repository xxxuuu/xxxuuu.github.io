<!DOCTYPE html><html lang="zh-CN"><head><link rel="icon" href="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2F49b4570c-b2f0-457b-81b7-b68e2693a471%2Favatar.png?table=collection&amp;id=0bb2e606-8d0c-4f7c-aca9-70986e90c055&amp;t=0bb2e606-8d0c-4f7c-aca9-70986e90c055&amp;width=800&amp;cache=v2"/><title>MemoryDB: Redis + Remote Log | x³u³</title><meta name="theme-color" content="#000000"/><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, minimum-scale=1.0"/><meta name="robots" content="follow, index"/><meta charSet="UTF-8"/><meta name="keywords" content="分布式系统,数据库,论文阅读"/><meta name="description" content="MemoryDB 是 Amazon 的一个 Redis 兼容的 KV 数据库，论文发表在 SIGMOD 2024 上"/><meta property="og:locale" content="zh_CN"/><meta property="og:title" content="MemoryDB: Redis + Remote Log | x³u³"/><meta property="og:description" content="MemoryDB 是 Amazon 的一个 Redis 兼容的 KV 数据库，论文发表在 SIGMOD 2024 上"/><meta property="og:url" content="https://xxxuuu.me/post/memorydb"/><meta property="og:image" content="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2Fa9af1d6b-f284-4734-ba06-990353cf3f84%2FElaina.jpg?table=collection&amp;id=0bb2e606-8d0c-4f7c-aca9-70986e90c055&amp;t=0bb2e606-8d0c-4f7c-aca9-70986e90c055&amp;width=800&amp;cache=v2"/><meta property="og:site_name" content="MemoryDB: Redis + Remote Log | x³u³"/><meta property="og:type" content="Post"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:description" content="MemoryDB 是 Amazon 的一个 Redis 兼容的 KV 数据库，论文发表在 SIGMOD 2024 上"/><meta name="twitter:title" content="MemoryDB: Redis + Remote Log | x³u³"/><link rel="icon" href="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2F49b4570c-b2f0-457b-81b7-b68e2693a471%2Favatar.png?table=collection&amp;id=0bb2e606-8d0c-4f7c-aca9-70986e90c055&amp;t=0bb2e606-8d0c-4f7c-aca9-70986e90c055&amp;width=800&amp;cache=v2"/><meta property="article:published_time"/><meta property="article:author" content="xxxuuu"/><meta property="article:section" content="Notion, 博客"/><meta property="article:publisher"/><meta name="next-head-count" content="23"/><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style" crossorigin="anonymous"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" referrerPolicy="no-referrer"/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/a20e22e21a63e858.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a20e22e21a63e858.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script defer="" src="/_next/static/chunks/3607272e.2a7fac62e4aa2ed3.js"></script><script defer="" src="/_next/static/chunks/51472.1e4811d23d9c4c81.js"></script><script src="/_next/static/chunks/webpack-d21ff1857ee06ed4.js" defer=""></script><script src="/_next/static/chunks/framework-a9bb0a3aa321677c.js" defer=""></script><script src="/_next/static/chunks/main-38dcea65ee3c1f0e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-32568ab1c5168fb8.js" defer=""></script><script src="/_next/static/chunks/88495-591bdb3ec2a9391e.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bprefix%5D/%5Bslug%5D-287a9560b630d3bb.js" defer=""></script><script src="/_next/static/bV5ZgtvRYvoAuDGZEcRQR/_buildManifest.js" defer=""></script><script src="/_next/static/bV5ZgtvRYvoAuDGZEcRQR/_ssgManifest.js" defer=""></script><style id="__jsx-8b74b6d3b1887a15">:root{--content-width:768px;--theme-color:#ff8200;--fg-color:#495057}::-moz-selection{background-color:var(--theme-color)!important;color:#fff!important}::selection{background-color:var(--theme-color)!important;color:#fff!important}.notion-h-title{color:#343a40;font-weight:bold}.notion-text,.notion-list,.notion-toggle,.notion-to-do,.notion-quote,.notion-callout-text,.notion-simple-table-cell{letter-spacing:.5px;color:var(--fg-color);font-size:1rem;font-weight:400}.notion-inline-code{background:rgba(255,229,100,.2);-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;color:var(--fg-color)}.notion-asset-wrapper img{-webkit-border-radius:.6em;-moz-border-radius:.6em;border-radius:.6em}.notion-quote{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;border-left:3px solid var(--theme-color);background-color:rgba(238,241,225,.3)}.notion-link{opacity:1;color:#36563c;border-bottom:1px dashed#36563c!important;-webkit-transition:all.3s;-moz-transition:all.3s;-o-transition:all.3s;transition:all.3s}.notion-link:hover{color:var(--theme-color);border-bottom:1px dashed var(--theme-color)!important}.notion-bookmark{-webkit-transition:all.3s;-moz-transition:all.3s;-o-transition:all.3s;transition:all.3s}.notion-bookmark:hover{border-color:var(--theme-color)}.notion-callout{border:0}.notion-property-checkbox-unchecked{-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;border:1.3px solid var(--theme-color)}.notion-property-checkbox-checked{background:var(--theme-color);-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.notion-property-checkbox-checked .svg{width:12px;height:12px;top:2px;left:2px}.notion-toggle>summary::marker{# TODO gap between marker and text
      }.notion-list li{padding-left:.5rem}.notion-list ol>ul{padding-left:0}.notion-list ul>ol{padding-left:0}.notion-list li::marker{color:var(--theme-color);font-weight:600}.notion-table-of-contents-item{opacity:1}</style><style id="__jsx-2783458257">null

  </style></head><body><div id="__next"><div id="theme-autumn" class="font-sans font-light bg-white scroll-smooth"><header style="background-color:null" class="w-full h-[430px] flex justify-center z-10"><div style="background-image:url(https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2Fa9af1d6b-f284-4734-ba06-990353cf3f84%2FElaina.jpg?table=collection&amp;id=0bb2e606-8d0c-4f7c-aca9-70986e90c055&amp;t=0bb2e606-8d0c-4f7c-aca9-70986e90c055&amp;width=800&amp;cache=v2)" class="max-w-[var(--content-width)] size-full px-5 flex justify-center items-center flex-col relative bg-cover bg-center"><div class="rounded-xl bg-white/[.6] w-full py-4 px-5 backdrop-blur-sm hover:scale-[1.03] transition duration-300 relative bottom-5"><div class="flex items-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" class="size-20 rounded-full shadow-lg pointer-events-none select-none"/><div class="flex flex-col flex-1 ml-7 size-full"><h1 class="text-2xl my-0 text-[var(--theme-color)] drop-shadow-[0_2px_10px_rgba(231,156,0,0.6)] font-bold">x³u³</h1><div class="text-sm font-normal w-full text-gray-500 mt-2 flex jusitify-between"><span class="flex-1">🗒 碎碎念</span><div class="justify-center flex-wrap flex"><div class="space-x-3 text-sm flex items-center text-gray-500 opacity-80"><a target="_blank" rel="noreferrer" title="github" href="https://github.com/xxxuuu"><i class="fab fa-github"></i></a><a target="_blank" rel="noreferrer" title="email" href="mailto:xxuuu0@outlook.com"><i class="fas fa-envelope"></i></a><a target="_blank" rel="noreferrer" title="RSS" href="/rss/feed.xml"><i class="fas fa-rss"></i></a></div></div></div></div></div></div><div class="absolute w-full bottom-0 px-5"></div></div></header><div id="container-inner" class="w-full relative mx-auto max-w-[var(--content-width)]"><div id="container-wrapper" class="relative mx-auto justify-center sm:flex"><div class="w-full transition ease-in-out duration-700 transform order-first opacity-0 translate-y-32"><div id="article-wrapper" class="px-4 sm:px-8 pb-12 sm:pb-20 relative"><section class="flex flex-col mt-16"><h1 class="text-4xl font-bold text-gray-800">MemoryDB: Redis + Remote Log</h1><div class="mt-6 mb-8 text-gray-300 flex flex-row"><span class="mr-3 text-gray-300 text-sm sm:text-base font-normal flex justify-center items-center">2024-11-17</span><span id="wordCountWrapper" class="flex gap-3 font-light"><span class="flex whitespace-nowrap items-center"><i class="pl-1 pr-2 fas fa-file-word"></i><span id="wordCount">0</span></span><span class="flex whitespace-nowrap items-center"><i class="mr-1 fas fa-clock"></i><span></span><span id="readTime">0</span> <!-- -->分钟</span></span></div></section><div id="notion-article" class="mx-auto overflow-hidden "><main class="notion light-mode notion-page notion-block-1298875639798065aeb4e6ec1258ed90"><div class="notion-viewport"></div><div class="notion-collection-page-properties"><div class="notion-collection-row"><div class="notion-collection-row-body"><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z"></path></svg><div class="notion-collection-column-title-body">type</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-select"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z"></path></svg><div class="notion-collection-column-title-body">status</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-select"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M10.889 5.5H3.11v1.556h7.778V5.5zm1.555-4.444h-.777V0H10.11v1.056H3.89V0H2.333v1.056h-.777c-.864 0-1.548.7-1.548 1.555L0 12.5c0 .856.692 1.5 1.556 1.5h10.888C13.3 14 14 13.356 14 12.5V2.611c0-.855-.7-1.555-1.556-1.555zm0 11.444H1.556V3.944h10.888V12.5zM8.556 8.611H3.11v1.556h5.445V8.61z"></path></svg><div class="notion-collection-column-title-body">date</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-date"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">slug</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">summary</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M4 3a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zM2 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2z"></path></svg><div class="notion-collection-column-title-body">tags</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-multi_select"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z"></path></svg><div class="notion-collection-column-title-body">category</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-select"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">icon</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">password</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text"></span></div></div></div></div></div><div class="notion-text notion-block-12d887563979807f80b6ef4c5f01124a">MemoryDB 是 Amazon 的一个 Redis 兼容的 KV 数据库，论文发表在 SIGMOD 2024 上</div><div class="notion-text notion-block-12d887563979805bbe4aed2e13640a3d">由于 Redis 是内存数据库，持久性保证比较弱，因此在使用 Redis 作为主存储的低延迟需求场景，大部分人会构建一套复杂的架构来同步或备份 Redis 的数据，Redis 自己也提供了复制和集群的功能，然而这其中的容错处理无法真正保证一致性和持久性。MemoryDB 诞生就是为了解决这个问题，提供一个<b>能保证持久性的高可用强一致 Redis，并且仍然保持内存级性能</b></div><div class="notion-blank notion-block-12d88756397980afaa3ee067b98d492b"> </div><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-12d887563979805289dcffc7b2eed4db" data-id="12d887563979805289dcffc7b2eed4db"><span><div id="12d887563979805289dcffc7b2eed4db" class="notion-header-anchor"></div><a class="notion-hash-link" href="#12d887563979805289dcffc7b2eed4db" title="架构"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">架构</span></span></h2><div class="notion-text notion-block-12d8875639798036bb8ec54f1e0ba673">首先回顾下 Redis 自身的持久化和一致性挑战：</div><ol start="1" class="notion-list notion-list-numbered notion-block-12d887563979802c892af5d160ed77cb"><li>Redis 通过副本提供高可用，但这个过程是异步的，当主节点故障，副节点被提升为主节点而复制未完成时，就会永久丢失数据</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-12d8875639798013bec0d94c35c41e7c"><li>Redis 包含 RDB 和 AOF 两种持久化方法，分别是快照和事务日志，对于 AOF 可以配置成每次写入都执行 <code class="notion-inline-code">fsync()</code> 以牺牲可用性为代价提供持久化。但多节点场景 AOF 不能提供任何保证，主节点故障时同样没有办法确保选举出的副本具有最新数据，最坏情况下这个副本可能没有任何数据，导致数据完全丢失</li></ol><ol start="3" class="notion-list notion-list-numbered notion-block-12d88756397980c08fd3e200492d6840"><li>Redis 提供了 <code class="notion-inline-code">WAIT</code> 命令，通过该命令，客户端能阻塞等待数据同步复制直到完成。但 <code class="notion-inline-code">WAIT</code> 只对当前连接有效，不是全局的。对于其他客户端来说仍然无法保证观察到的数据一致性。同样，故障时也没法做任何保证</li></ol><div class="notion-text notion-block-12d887563979801e8237ef32b93a3dbe">简单来说，<b>Redis 故障转移会导致数据丢失</b></div><div class="notion-blank notion-block-139887563979809cbaaae56d8b38fc46"> </div><div class="notion-text notion-block-12d887563979807aad94f901673f65b7">MemoryDB 直接基于 Redis 构建，但并没有进行侵入性修改。这里通过加入一个分布式事务日志服务将两层实现解耦，Redis 只相当于这套架构底下的执行引擎</div><div class="notion-text notion-block-139887563979808cb3dfff263a312774">Redis 主节点自身的复制流会被拦截，重定向到事务日志中。在同步写入日志成功后对客户端返回，所有其他副本都只是重放日志</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-12d8875639798038bd8afaad3d98bd5e"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:384px;max-width:100%;flex-direction:column"><img style="object-fit:cover" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2Fc20e8ae2-0be9-402e-a134-7c5ce4a0fa29%2Fimage.png?table=block&amp;id=12d88756-3979-8038-bd8a-faad3d98bd5e&amp;t=12d88756-3979-8038-bd8a-faad3d98bd5e&amp;width=768&amp;cache=v2" alt="MemoryDB 架构（话说这图真糊啊" loading="lazy" decoding="async"/><figcaption class="notion-asset-caption">MemoryDB 架构（话说这图真糊啊</figcaption></div></figure><div class="notion-blank notion-block-14088756397980d5a2eaceb9d714ecf5"> </div><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-1408875639798061a496d8a366fbab7b" data-id="1408875639798061a496d8a366fbab7b"><span><div id="1408875639798061a496d8a366fbab7b" class="notion-header-anchor"></div><a class="notion-hash-link" href="#1408875639798061a496d8a366fbab7b" title="持久性"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">持久性</span></span></h2><div class="notion-text notion-block-14088756397980fc8aefe3adbc85db49">事务日志服务是 Multi-AZ 的，能提供持久化的存储，对主节点的操作会同步写入到事务日志中，其他副本就像普通的 Redis 复制过程一样读取事务日志</div><div class="notion-text notion-block-1408875639798070b80dc1e6c078dbec">可以看出这里事务日志是系统的核心，提供了完美的保证，但论文没有具体说明它是如何构建的，应该又是 Amazon 内部的黑盒服务</div><div class="notion-text notion-block-140887563979809eb1aaebfed5766d88">部分分布式数据库允许使用 Kafka 作为 Remote WAL，所以如果要做一个 MemoryDB 的开源实现，Kafka 应该可以承担这个事务日志服务的角色，但还是会有很多额外工作量</div><div class="notion-blank notion-block-14088756397980f69592cc64e91d2ebd"> </div><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-14088756397980aaa31ee110a48c67ca" data-id="14088756397980aaa31ee110a48c67ca"><span><div id="14088756397980aaa31ee110a48c67ca" class="notion-header-anchor"></div><a class="notion-hash-link" href="#14088756397980aaa31ee110a48c67ca" title="一致性"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">一致性</span></span></h2><div class="notion-text notion-block-1408875639798043bfe9ecdf25d27f5d">MemoryDB 这里的日志是一种 WBL（Write-behind logging），选择 WBL 而不是 WAL 的原因是它天然和 Redis 的复制模型保持一致，例如 SPOP 之类的随机操作也能保证相同的结果</div><div class="notion-blank notion-block-1408875639798018bcbff0bc07649283"> </div><div class="notion-text notion-block-140887563979801abea6fd421d11b7d2">但这样会带来的问题是写入日志前故障会导致不一致，所以这里需要事务日志 ACK 了才能向客户端返回。MemoryDB 通过添加一层 client blocking 层作为 tracker 实现这一点，考虑到 MemoryDB 避免修改 Redis 的前提下，我猜应该类似这样的实现</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-141887563979804abb79e2f6312ba5b5"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:288px;max-width:100%;flex-direction:column"><img style="object-fit:cover" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2Fbfc3d68f-ea82-430d-99cb-248f2d66a4bc%2F%25E6%259C%25AA%25E5%2591%25BD%25E5%2590%258D%25E7%25BB%2598%25E5%259B%25BE.drawio.png?table=block&amp;id=14188756-3979-804a-bb79-e2f6312ba5b5&amp;t=14188756-3979-804a-bb79-e2f6312ba5b5&amp;width=576&amp;cache=v2" alt="notion image" loading="lazy" decoding="async"/></div></figure><div class="notion-text notion-block-14088756397980539ecefc568a168947">这里的好处同样是解耦了 Redis，即使事务日志写入未确认，仍然可以让 Redis 继续处理接下来的请求</div><div class="notion-text notion-block-140887563979809f8ef8de746992ac8c">但对于主节点的读操作，仍然需要等待其所依赖的写入被持久化，因此在 tracker 需要去 trace 每个尚未被写入日志的 key。只对主节点读写可以提供线性一致性，也允许直接从副本读，这时提供的是顺序一致性，跨多个副本的读取则是最终一致的</div><div class="notion-blank notion-block-14088756397980ae9654e8e95f0f65aa"> </div><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-12d887563979807e94c8d96b7619675c" data-id="12d887563979807e94c8d96b7619675c"><span><div id="12d887563979807e94c8d96b7619675c" class="notion-header-anchor"></div><a class="notion-hash-link" href="#12d887563979807e94c8d96b7619675c" title="可用性"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">可用性</span></span></h2><div class="notion-text notion-block-1408875639798089bad1cad8045e11cd">通过前面的手段，已经能保证主节点正常工作时的持久性和一致性，接下来需要再考虑下分布式系统中最重要的容错处理，主要是以下三个问题：</div><ol start="1" class="notion-list notion-list-numbered notion-block-1408875639798015a2b4e8f7663b46ce"><li>故障检测：副本如何知道主节点故障</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-1408875639798054a61ad9729ec01671"><li>选举方式：哪些副本会被提升为主节点</li></ol><ol start="3" class="notion-list notion-list-numbered notion-block-14088756397980ca9b57dd2f45869541"><li>故障恢复：临时故障的节点如何恢复</li></ol><div class="notion-blank notion-block-14088756397980ffb8b2e4bb4374bc41"> </div><div class="notion-text notion-block-1408875639798084be23d54c8f286921">MemoryDB 完美利用事务日志实现了以上三点。事务日志中除了正常数据的复制流，还会包括一些控制日志</div><div class="notion-text notion-block-1408875639798004b6cef2446a3f80cb">故障检测的方法就是典型的心跳，但这里心跳是作为一条日志，主节点定期写入心跳/租约日志，如果副本未能在租约期限内观测到这类日志，就认为主节点宕机，触发选举</div><div class="notion-callout notion-yellow_background_co notion-block-14188756397980d69b46d064fa637a1a"><div class="notion-page-icon-inline notion-page-icon-span"><span class="notion-page-icon" role="img" aria-label="❓">❓</span></div><div class="notion-callout-text"><div class="notion-text notion-block-c91a7dc68b084f2b91afff9c291a0c1b">这里感觉会有些时钟问题</div></div></div><div class="notion-blank notion-block-140887563979802daefcefb97cd94599"> </div><div class="notion-text notion-block-1408875639798097a233e83b26700cf5">其次是具体选主方式，选主时所有副本都只会和日志服务交互，不会互相通信，因此这里并不是采用 quorum 之类的投票方式，而同样是采用写入日志的方法</div><div class="notion-text notion-block-141887563979807891f4f31333838f93">每个日志都会有一个唯一 ID，且 append 新日志时，必须指定前序日志 ID。因此多个副本竞争选主时，只有第一个竞选日志是有效的，这也确保了能竞选的副本必然拥有最新数据。新主上台后会通过 gossip 协议通知其他节点，这部分是采用 Redis Cluster 自己的实现</div><div class="notion-blank notion-block-14188756397980b6b04bf0cdcc6b2c00"> </div><div class="notion-text notion-block-141887563979808f9715e6ce6ac40a02">最后，当故障的主节点恢复时，由于租约过期，它会自行下台重新作为副本工作。除了利用心跳日志实现的故障检测，MemoryDB 通过带外监控服务的心跳检测和内部 Redis Cluster 的 gossip 结合来获得一个集群视图，管控面会在其认为故障的节点上重启 Redis 进程或启动新副本轮替该节点</div><div class="notion-text notion-block-141887563979802da7fad4ccb6291952">MemoryDB 做了很多优化去减少 MTTR（Mean time to recovery）。在运行时，Redis 自身的持久化/快照（RDB）机制也在工作，快照被上传到 S3 中，新副本启动或恢复时会通过 S3 获得快照快速赶上进度然后开始回放事务日志</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-14088756397980e39143ffcc1806f24d"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:336px;max-width:100%;flex-direction:column"><img style="object-fit:cover" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2F9f382b69-dd91-4ea1-909c-793eeaef7f63%2Fimage.png?table=block&amp;id=14088756-3979-80e3-9143-ffcc1806f24d&amp;t=14088756-3979-80e3-9143-ffcc1806f24d&amp;width=672&amp;cache=v2" alt="notion image" loading="lazy" decoding="async"/></div></figure><div class="notion-text notion-block-140887563979807fa265ef8743dd7b56">Redis 的快照是通过 Linux 的 fork 写时复制特性来实现的，虽然整体开销已经很小，但也不可避免地带来一些性能抖动，包括瞬时的内存占用</div><div class="notion-text notion-block-14188756397980a1a93be2d938b064bc">MemoryDB 的优化相当于把写时复制从进程扩展到集群层面，快照时会启动一个 off-box 临时集群，临时集群和副本恢复一样，先恢复数据到最新状态，再进行快照。虽然看起来有点重，成本很高，但优点是能完全避免快照导致用户集群产生抖动以及这期间的可用性降低两个问题</div><div class="notion-callout notion-yellow_background_co notion-block-14188756397980fe9ae3d054553db05b"><div class="notion-page-icon-inline notion-page-icon-span"><span class="notion-page-icon" role="img" aria-label="💡">💡</span></div><div class="notion-callout-text"><div class="notion-text notion-block-c68f894d33d14e0ebb0f6098e492c5d6">关于这一点，还可以看看别家的解决方案，例如阿里云直接修改了内核把 fork 时开销最多的的页表复制过程放到子进程中：<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://www.vldb.org/pvldb/vol16/p1033-chen.pdf">Async-fork: Mitigating Query Latency Spikes Incurred by the Fork-based Snapshot Mechanism from the OS Level</a></div></div></div><div class="notion-blank notion-block-1408875639798038866bda9256578c95"> </div><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-12d88756397980548322d7d948700acf" data-id="12d88756397980548322d7d948700acf"><span><div id="12d88756397980548322d7d948700acf" class="notion-header-anchor"></div><a class="notion-hash-link" href="#12d88756397980548322d7d948700acf" title="性能"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">性能</span></span></h2><div class="notion-text notion-block-1418875639798018badcd6eed4fe422d">最后是例行环节 evaluation</div><div class="notion-blank notion-block-141887563979808b85ddf163a0f02c0c"> </div><div class="notion-text notion-block-14188756397980d994ddc4fb42912833">只读(a)和只写(b)负载：</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-1418875639798022a5d3dc5667a7f2d2"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:528px;max-width:100%;flex-direction:column"><img style="object-fit:cover" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2F85832d91-1442-4d30-a09f-b8357d87adbc%2Fimage.png?table=block&amp;id=14188756-3979-8022-a5d3-dc5667a7f2d2&amp;t=14188756-3979-8022-a5d3-dc5667a7f2d2&amp;width=1056&amp;cache=v2" alt="notion image" loading="lazy" decoding="async"/></div></figure><div class="notion-text notion-block-14188756397980b1b627cae28ba8d78f">写请求由于有对事务日志的同步写入，性能基本是 Redis 的 1/3 到 1/2 左右，符合预期。但读性能没有理由 MemoryDB 能比 Redis 还快啊？感觉有些猫腻，论文里说是因为 MemoryDB 通过优化过的 I/O 多路复用聚合了客户端链接，但我对此保留疑问</div><div class="notion-blank notion-block-141887563979801495acec79fd4813c8"> </div><div class="notion-text notion-block-14188756397980939ed3c92b6068eacf">只读(a)、只写(b)和混合读写(c)的时延表现，基本符合预期：</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-14188756397980168705e764ae36bcf0"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:cover" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2F2b826c0e-8de6-44a1-9ad2-ac24b15a0c0b%2Fimage.png?table=block&amp;id=14188756-3979-8016-8705-e764ae36bcf0&amp;t=14188756-3979-8016-8705-e764ae36bcf0&amp;width=1415.9658203125&amp;cache=v2" alt="notion image" loading="lazy" decoding="async"/></div></figure><div class="notion-blank notion-block-141887563979802481ecf7e5f4e21a3d"> </div><div class="notion-text notion-block-14188756397980db8095da56a4bc0e3b">接下来是快照，负载是 2000w 个 500 bytes 的 key，节点配置 2c16G。快照同时 100 个 client 执行 GET，20 个 client 执行 SET</div><div class="notion-text notion-block-141887563979803abd39d774b44417d0">Redis 在快照期间的请求的延迟(a)和吞吐量(b)影响，以及内存占用情况：</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-141887563979802a8de9f5c33426d156"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:cover" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2F2b3b487b-c4c7-430f-80cc-d0c1ab6f5df5%2Fimage.png?table=block&amp;id=14188756-3979-802a-8de9-f5c33426d156&amp;t=14188756-3979-802a-8de9-f5c33426d156&amp;width=1415.9801025390625&amp;cache=v2" alt="notion image" loading="lazy" decoding="async"/></div></figure><div class="notion-text notion-block-14188756397980199157eb9a0a552cf0">MemoryDB 在快照期间的延迟(a)和吞吐量(b)：</div><div class="notion-blank notion-block-14188756397980188ee9f916efef1b6e"> </div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-141887563979801ea64cd8ba1480ba0c"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:cover" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2F07c212c9-11a1-40a0-a226-8a42735f85fd%2Fimage.png?table=block&amp;id=14188756-3979-801e-a64c-d8ba1480ba0c&amp;t=14188756-3979-801e-a64c-d8ba1480ba0c&amp;width=1415.95166015625&amp;cache=v2" alt="notion image" loading="lazy" decoding="async"/></div></figure><div class="notion-text notion-block-14188756397980c5bb6fe39d33c5af6b">也符合预期，MemoryDB 非常稳定，不过看起来显然也田忌赛马了，没有评估这启动一个临时集群的成本开销，整个快照过程也慢不少</div><div class="notion-blank notion-block-141887563979808384afdeab35544309"> </div><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-12d887563979807c9611fc938591b570" data-id="12d887563979807c9611fc938591b570"><span><div id="12d887563979807c9611fc938591b570" class="notion-header-anchor"></div><a class="notion-hash-link" href="#12d887563979807c9611fc938591b570" title="总结"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">总结</span></span></h2><div class="notion-text notion-block-14188756397980f6bc14f3f33a2f4ee8">总结一下几点：</div><ol start="1" class="notion-list notion-list-numbered notion-block-1418875639798006899ec53dcc29cb16"><li>Redis 仅仅作为执行引擎，解耦实现</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-141887563979802a88afd02e61af4adf"><li>通过事务日志（transaction log）同步写保证持久性</li></ol><ol start="3" class="notion-list notion-list-numbered notion-block-14188756397980d88f63f740dca9eaa8"><li>tracker 追踪未完成持久化的 key，提供线性一致性</li></ol><ol start="4" class="notion-list notion-list-numbered notion-block-14188756397980ee9434c0d2b9e161ae"><li>围绕 log 实现租约和选主</li></ol><ol start="5" class="notion-list notion-list-numbered notion-block-14188756397980618f0feb583f5c6e14"><li>快照卸载到 off-box 集群上执行，避免抖动</li></ol><div class="notion-blank notion-block-141887563979808d90f3d2cf6a15b648"> </div><div class="notion-text notion-block-12d8875639798003a689f9e865c65c56">总体来说，是很巧妙的想法和实现，仅仅围绕 log 就实现了这一切。而且从兼容 Redis 这一核心目的角度来看，通过 log 的解耦，能做到极低的侵入性，也就意味着更高的兼容性和可维护性，是非常好的工程实践。大多数开源 fork 魔改到最后，gap 越来越大，再要保持兼容的话维护成本就会很高</div><div class="notion-blank notion-block-14188756397980709d92effe411f181f"> </div><div class="notion-text notion-block-14188756397980f78685fcf5fab9dad7">另一方面也引发了我关于 log 的更多思考，大多数数据系统都会有 WAL 或其他各种 log，这种基于 log 复制的 idea 在共识算法中也很常见。MemoryDB 展示了一个如何通过这些 log 扩展系统的完美例子，再回过头来看其他系统、设计和解决方案，不禁会想是不是也能在 log 上迸发出无限可能</div><div class="notion-blank notion-block-140887563979803cabfac50441fa0657"> </div><div class="notion-text notion-block-140887563979807e9f88cbad08c534c7">之后如果有时间，可能打算去复刻一个 MemoryDB 的实现</div><div class="notion-blank notion-block-12d887563979805a8e7afbcb7fe1157a"> </div><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-12d8875639798031afd1fc31e91d1b2c" data-id="12d8875639798031afd1fc31e91d1b2c"><span><div id="12d8875639798031afd1fc31e91d1b2c" class="notion-header-anchor"></div><a class="notion-hash-link" href="#12d8875639798031afd1fc31e91d1b2c" title="Ref"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Ref</span></span></h2><ul class="notion-list notion-list-disc notion-block-12d887563979808e844efa6c6a307e58"><li><a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://assets.amazon.science/e0/1b/ba6c28034babbc1b18f54aa8102e/amazon-memorydb-a-fast-and-durable-memory-first-cloud-database.pdf">Amazon MemoryDB: A Fast and Durable Memory-First Cloud Database</a></li></ul><ul class="notion-list notion-list-disc notion-block-12d88756397980c6b96cd84821879abe"><li><a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://aws.amazon.com/cn/blogs/china/amazon-memorydb-a-brief-introduction-to-the-sigmod-2024-paper/">溯本追源 – Amazon MemoryDB SIGMOD 2024 论文解读 | 亚马逊AWS官方博客</a></li></ul><ul class="notion-list notion-list-disc notion-block-12d887563979804fafb3d33ab8f81c51"><li><a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://blog.xiyoulinux.com/blog/104106524">从一到无穷大 #27 从Amazon MemoryDB视角看稳定binlog带来的无限可能性</a></li></ul><div class="notion-blank notion-block-12d8875639798056a5d6e329712464e9"> </div></main></div><div class="flex flex-row gap-2"><a class="rounded-full px-4 py-1 bg-gray-100/[.3] text-gray-400 text-xs sm:text-sm font-normal leading-6 cursor-pointer transition-all duration-300 hover:bg-[var(--theme-color)] hover:text-white hover:-translate-y-1" href="/tag/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F">分布式系统</a><a class="rounded-full px-4 py-1 bg-gray-100/[.3] text-gray-400 text-xs sm:text-sm font-normal leading-6 cursor-pointer transition-all duration-300 hover:bg-[var(--theme-color)] hover:text-white hover:-translate-y-1" href="/tag/%E6%95%B0%E6%8D%AE%E5%BA%93">数据库</a><a class="rounded-full px-4 py-1 bg-gray-100/[.3] text-gray-400 text-xs sm:text-sm font-normal leading-6 cursor-pointer transition-all duration-300 hover:bg-[var(--theme-color)] hover:text-white hover:-translate-y-1" href="/tag/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB">论文阅读</a></div><div class="mt-8 mb-6 w-full border-b border-dashed border-gray-200"></div><p class="text-base mb-3 font-normal text-gray-300">下一篇</p><a href="/post/db-mmap"><h2 class="mb-2 sm:mb-4 text-gray-800 text-2xl font-bold relative transition-all duration-300 before:invisible before:h-5 before:w-0 before:bg-[var(--theme-color)] before:opacity-5 before:absolute before:top-4 before:-left-2 before:rounded-lg before:transition-all before:duration-500 hover:before:visible hover:before:w-full hover:text-[var(--theme-color)] hover:drop-shadow(0_1px_2px_rgb(255,255,255)">应该在 DBMS 中使用 MMAP 吗？</h2></a><div class="mt-6 mb-8 w-full border-b border-dashed border-gray-200"></div><div id="comment" class="comment mt-5 text-gray-800 dark:text-gray-300 "><div class="text-center">Loading...<i class="fas fa-spinner animate-spin text-3xl "></i></div></div><aside class="hidden lg:block absolute h-full w-52 -right-56 top-36"><div class="sticky top-20"></div></aside></div></div></div></div><footer class="w-full border-t border-gray-200/[.8] relative mt-72 md:mt-60 before:w-full before:h-[22rem] before:z-10 before:block before:absolute before:-top-[17.6rem] before:left-0 before:bg-[url(/images/footer-bg.png)] before:bg-no-repeat before:bg-center before:bg-cover lg:before:bg-contain "><div class="max-w-[var(--content-width)] mx-auto my-12"><p class="mx-6 text-left text-xs text-gray-500 font-bold relative z-20">© <!-- -->2018-2024<!-- --> <!-- -->xxxuuu<!-- --> · Powered by <a class="hover:underline text-gray-700" href="https://github.com/xxxuuu/NotionNext">NotionNext</a></p></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"NOTION_CONFIG":{},"notice":null,"siteInfo":{"title":"x³u³","description":"🗒 碎碎念","pageCover":"https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2Fa9af1d6b-f284-4734-ba06-990353cf3f84%2FElaina.jpg?table=collection\u0026id=0bb2e606-8d0c-4f7c-aca9-70986e90c055\u0026t=0bb2e606-8d0c-4f7c-aca9-70986e90c055\u0026width=800\u0026cache=v2","icon":"https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2F49b4570c-b2f0-457b-81b7-b68e2693a471%2Favatar.png?table=collection\u0026id=0bb2e606-8d0c-4f7c-aca9-70986e90c055\u0026t=0bb2e606-8d0c-4f7c-aca9-70986e90c055\u0026width=800\u0026cache=v2","link":"https://xxxuuu.me"},"allNavPages":[{"title":"浅谈协程","pageCoverThumbnail":"","category":null,"tags":["操作系统"],"summary":"最近经常被各种人问到一些关于协程的事情，例如 xx 语言的 xx 是不是协程，xx 语言和 xx 语言的协程有什么区别，我不得不一次次 share 出我的文章，索性直接发到 blog 上吧","slug":"post/coroutine","href":"/post/coroutine","pageIcon":"","lastEditedDate":"2024-11-22T13:43:18.855Z","publishDate":1732233600000,"ext":{},"short_id":"14688756"},{"title":"MemoryDB: Redis + Remote Log","pageCoverThumbnail":"","category":null,"tags":["分布式系统","数据库","论文阅读"],"summary":"MemoryDB 是 Amazon 的一个 Redis 兼容的 KV 数据库，论文发表在 SIGMOD 2024 上","slug":"post/memorydb","href":"/post/memorydb","pageIcon":"","lastEditedDate":"2024-11-18T03:17:24.166Z","publishDate":1731801600000,"ext":{},"short_id":"12988756"},{"title":"应该在 DBMS 中使用 MMAP 吗？","pageCoverThumbnail":"","category":null,"tags":["论文阅读","数据库"],"summary":null,"slug":"post/db-mmap","href":"/post/db-mmap","pageIcon":"","lastEditedDate":"2024-11-03T07:26:55.807Z","publishDate":1729987200000,"ext":{},"short_id":"94e03781"},{"title":"日本游记","pageCoverThumbnail":"https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2Fb07e03ea-454d-48b4-a53c-169003780460%2FDSC_0663.jpg?table=block\u0026id=11688756-3979-8028-b7d8-ce8bf2ec4253\u0026t=11688756-3979-8028-b7d8-ce8bf2ec4253\u0026width=800\u0026cache=v2","category":null,"tags":["碎碎念","旅行"],"summary":"次の駅は、東京です","slug":"post/japan-travel","href":"/post/japan-travel","pageIcon":"","lastEditedDate":"2024-11-09T06:15:00.190Z","publishDate":1729468800000,"ext":{},"short_id":"11688756"},{"title":"PVE 迁移翻车自救","pageCoverThumbnail":"","category":null,"tags":["折腾","PVE"],"summary":null,"slug":"post/pve-migration-rescue","href":"/post/pve-migration-rescue","pageIcon":"","lastEditedDate":"2024-10-13T12:39:01.428Z","publishDate":1728777600000,"ext":{},"short_id":"11d88756"},{"title":"译：使 Rust library 兼容 no_std","pageCoverThumbnail":"","category":null,"tags":["Rust"],"summary":"Effective Rust Item 33","slug":"post/rust-no-std","href":"/post/rust-no-std","pageIcon":"","lastEditedDate":"2024-09-21T10:57:48.427Z","publishDate":1726876800000,"ext":{},"short_id":"4e5d7fc0"},{"title":"Infra 窘境","pageCoverThumbnail":"","category":null,"tags":["碎碎念"],"summary":"前段时间秋招也陆续开始了，偶尔有师弟问我不想写业务，怎么才能做 infra，其实我是劝退的。算下来我毕业正式工作也一年多了，趁机从个人角度发表点暴论","slug":"post/infra-dilemma","href":"/post/infra-dilemma","pageIcon":"","lastEditedDate":"2024-09-12T13:38:22.109Z","publishDate":1725321600000,"ext":{},"short_id":"5b4b2d85"},{"title":"迁移博客到 Notion","pageCoverThumbnail":"","category":null,"tags":["折腾"],"summary":"Make Notion Great Again！","slug":"post/migrate-blog-to-notion","href":"/post/migrate-blog-to-notion","pageIcon":"","lastEditedDate":"2024-11-17T13:06:23.284Z","publishDate":1724544000000,"ext":{},"short_id":"a06c26b2"},{"title":"Longhorn 浅析","pageCoverThumbnail":"https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2Fc3967b7e-bde2-4b5b-b5f6-97de21642f16%2Flonghorn.png?table=block\u0026id=bde25ba8-2381-4da6-bb5e-5787ace45def\u0026t=bde25ba8-2381-4da6-bb5e-5787ace45def\u0026width=800\u0026cache=v2","category":null,"tags":["存储","分布式系统"],"summary":"Longhorn 是一个 Go 实现的 Cloud Native Storage，比较好奇作为一个提供块存储的分布式存储系统，使用 Go 实现，会面临哪些挑战，性能方面要又要如何优化","slug":"post/longhorn","href":"/post/longhorn","pageIcon":"","lastEditedDate":"2024-10-08T10:27:34.636Z","publishDate":1723075200000,"ext":{},"short_id":"bde25ba8"},{"title":"从 Linux 内核看读写锁设计","pageCoverThumbnail":"","category":null,"tags":["Linux","操作系统"],"summary":"前段时间看了《Linux内核设计与实现》，第 10 章「内核同步方法」中提到了几种内核中的读写锁。它们分别代表了几种比较典型的读写锁设计，非常值得学习，这里记录一下，讨论是基于 2.6 内核和 x86 体系结构的基础上进行的","slug":"post/kernel-rwlock","href":"/post/kernel-rwlock","pageIcon":"","lastEditedDate":"2024-11-22T13:43:47.074Z","publishDate":1704326400000,"ext":{},"short_id":"0e96a78e"},{"title":"2023 年度总结","pageCoverThumbnail":"https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2F9e8551ce-463f-41bc-b07f-5a8362a94846%2F2023summary.jpg?table=block\u0026id=d26ce18a-fa8d-4df4-8b82-69c419c5b621\u0026t=d26ce18a-fa8d-4df4-8b82-69c419c5b621\u0026width=800\u0026cache=v2","category":null,"tags":["碎碎念"],"summary":null,"slug":"post/2023summary","href":"/post/2023summary","pageIcon":"","lastEditedDate":"2024-08-27T15:25:27.095Z","publishDate":1703980800000,"ext":{},"short_id":"d26ce18a"},{"title":"混乱的软中断概念","pageCoverThumbnail":"","category":null,"tags":["Linux","操作系统"],"summary":"软中断（softirq）和软件中断（software interrupt）","slug":"post/softirq-and-software-interrupt","href":"/post/softirq-and-software-interrupt","pageIcon":"","lastEditedDate":"2024-11-22T13:43:43.070Z","publishDate":1692144000000,"ext":{},"short_id":"3327d648"},{"title":"PVE8 上启用 12 代 Intel CPU 核显 SR-IOV","pageCoverThumbnail":"","category":null,"tags":["折腾","PVE"],"summary":"拯救我的 Galgame 和追番体验～","slug":"post/pve8-intel-sr-iov","href":"/post/pve8-intel-sr-iov","pageIcon":"","lastEditedDate":"2024-10-13T03:51:26.211Z","publishDate":1691280000000,"ext":{},"short_id":"d5fd419b"},{"title":"容器标准和生态","pageCoverThumbnail":"","category":null,"tags":["Cloud Native"],"summary":null,"slug":"post/container-spec-ecosystem","href":"/post/container-spec-ecosystem","pageIcon":"","lastEditedDate":"2024-08-27T15:25:22.390Z","publishDate":1689120000000,"ext":{},"short_id":"deaccfa2"},{"title":"Vim as an IDE","pageCoverThumbnail":"","category":null,"tags":["折腾","Vim"],"summary":"记录 Vim 入教过程和折腾记录","slug":"post/vim-as-an-ide","href":"/post/vim-as-an-ide","pageIcon":"","lastEditedDate":"2024-08-27T15:25:23.390Z","publishDate":1687392000000,"ext":{},"short_id":"f26f0a34"},{"title":"Kubernetes CSI","pageCoverThumbnail":"","category":null,"tags":["Cloud Native","Kubernetes"],"summary":null,"slug":"post/kubernetes-csi","href":"/post/kubernetes-csi","pageIcon":"","lastEditedDate":"2024-08-27T15:25:21.307Z","publishDate":1686960000000,"ext":{},"short_id":"a23d61e0"},{"title":"2022 年度总结","pageCoverThumbnail":"https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2F967f6a03-c26f-451c-971a-3b507ae769f3%2Ftencent_badge.jpg?table=block\u0026id=cc463e20-63ea-4132-acea-84fc7307dde8\u0026t=cc463e20-63ea-4132-acea-84fc7307dde8\u0026width=800\u0026cache=v2","category":null,"tags":["碎碎念"],"summary":null,"slug":"post/2022summary","href":"/post/2022summary","pageIcon":"","lastEditedDate":"2024-11-10T10:41:29.538Z","publishDate":1672444800000,"ext":{},"short_id":"cc463e20"},{"title":"The Google File System 论文概览","pageCoverThumbnail":"","category":null,"tags":["论文阅读","分布式系统"],"summary":null,"slug":"post/gfs-paper","href":"/post/gfs-paper","pageIcon":"","lastEditedDate":"2024-08-27T15:25:15.003Z","publishDate":1644796800000,"ext":{},"short_id":"1eecd7c4"},{"title":"MIT6.824 Lab1 MapReduce","pageCoverThumbnail":"","category":null,"tags":["分布式系统"],"summary":null,"slug":"post/mit6824-lab1-mapreduce","href":"/post/mit6824-lab1-mapreduce","pageIcon":"","lastEditedDate":"2024-08-27T15:25:13.836Z","publishDate":1644624000000,"ext":{},"short_id":"514ae2e3"},{"title":"蒟蒻的 2021 年度总结","pageCoverThumbnail":"https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2Fd8a67659-bb3d-447e-b70f-7aa9f7987b88%2Fgpnu.jpeg?table=block\u0026id=7b0eb02d-8b44-45f3-b593-52c0a62f4595\u0026t=7b0eb02d-8b44-45f3-b593-52c0a62f4595\u0026width=800\u0026cache=v2","category":null,"tags":["碎碎念"],"summary":"落落落落的一年","slug":"post/2021summary","href":"/post/2021summary","pageIcon":"","lastEditedDate":"2024-08-27T15:25:12.636Z","publishDate":1640908800000,"ext":{},"short_id":"7b0eb02d"},{"title":"蒟蒻的 2020 年度总结","pageCoverThumbnail":"https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2F1dc80ee3-5c1d-4af8-a284-d7896174816a%2Ficpc%25E5%258D%2597%25E4%25BA%25AC.png?table=block\u0026id=37c4cfd9-62a3-41bb-9989-f9df38c45d04\u0026t=37c4cfd9-62a3-41bb-9989-f9df38c45d04\u0026width=800\u0026cache=v2","category":null,"tags":["碎碎念"],"summary":"转眼三年已经过去，我也迎来了毕业","slug":"post/2020summary","href":"/post/2020summary","pageIcon":"","lastEditedDate":"2024-08-27T15:25:11.370Z","publishDate":1610236800000,"ext":{},"short_id":"37c4cfd9"},{"title":"蒟蒻的 2019 年度总结","pageCoverThumbnail":"https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2F2fdfd260-e2c8-42ea-9d8d-6fd6795797dc%2Flanqiao.jpeg?table=block\u0026id=8aa3f594-ff5d-4f99-b0a2-fa09bb32ba84\u0026t=8aa3f594-ff5d-4f99-b0a2-fa09bb32ba84\u0026width=800\u0026cache=v2","category":null,"tags":["碎碎念"],"summary":"随着2019年最后一晚的落幕，21世纪的10年代也结束了，今年的我无论是在技术上还是别的方面，都成长了许多。以本文记录我的技术路程，迎接新的一年","slug":"post/2019summary","href":"/post/2019summary","pageIcon":"","lastEditedDate":"2024-08-27T15:25:09.504Z","publishDate":1577836800000,"ext":{},"short_id":"8aa3f594"},{"title":"蒟蒻的 2018 年度总结","pageCoverThumbnail":"https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2Ff362b439-342f-451a-b70e-41ec07d86ab3%2F2018summary.jpeg?table=block\u0026id=806f9f46-c738-4c87-9957-e73d11ec44bd\u0026t=806f9f46-c738-4c87-9957-e73d11ec44bd\u0026width=800\u0026cache=v2","category":null,"tags":["碎碎念"],"summary":"又是一年过去了，2018算是人生中最重要的转折点之一，总结一下今年的经历和感想，也算是记录我的技术路程","slug":"post/2018summary","href":"/post/2018summary","pageIcon":"","lastEditedDate":"2024-08-27T15:25:07.408Z","publishDate":1546214400000,"ext":{},"short_id":"806f9f46"}],"tagOptions":[{"name":"碎碎念","color":"red","count":8},{"name":"分布式系统","color":"gray","count":4},{"name":"折腾","color":"blue","count":4},{"name":"论文阅读","color":"orange","count":3},{"name":"操作系统","color":"blue","count":3},{"name":"Linux","color":"purple","count":2},{"name":"Cloud Native","color":"brown","count":2},{"name":"数据库","color":"yellow","count":2},{"name":"PVE","color":"blue","count":2},{"name":"存储","color":"default","count":1},{"name":"Vim","color":"pink","count":1},{"name":"Kubernetes","color":"green","count":1},{"name":"Rust","color":"orange","count":1},{"name":"旅行","color":"yellow","count":1}],"categoryOptions":[],"customNav":[],"customMenu":[],"postCount":23,"latestPosts":[{"id":"14688756-3979-806c-af3c-f23f4c85d88e","date":{"start_date":"2024-11-22","date_format":"relative"},"type":"Post","slug":"post/coroutine","tags":["操作系统"],"summary":"最近经常被各种人问到一些关于协程的事情，例如 xx 语言的 xx 是不是协程，xx 语言和 xx 语言的协程有什么区别，我不得不一次次 share 出我的文章，索性直接发到 blog 上吧","title":"浅谈协程","status":"Published","category":"","comment":"","publishDate":1732233600000,"publishDay":"2024-11-22","lastEditedDate":"2024-11-22T13:43:18.855Z","lastEditedDay":"2024-11-22","fullWidth":false,"pageIcon":"","pageCover":"","pageCoverThumbnail":"","ext":{},"tagItems":[{"name":"操作系统","color":"blue"}],"href":"/post/coroutine","target":"_self","password":""},{"id":"12988756-3979-8065-aeb4-e6ec1258ed90","date":{"start_date":"2024-11-17","date_format":"relative"},"type":"Post","slug":"post/memorydb","tags":["分布式系统","数据库","论文阅读"],"summary":"MemoryDB 是 Amazon 的一个 Redis 兼容的 KV 数据库，论文发表在 SIGMOD 2024 上","title":"MemoryDB: Redis + Remote Log","status":"Published","category":"","comment":"","publishDate":1731801600000,"publishDay":"2024-11-17","lastEditedDate":"2024-11-18T03:17:24.166Z","lastEditedDay":"2024-11-18","fullWidth":false,"pageIcon":"","pageCover":"","pageCoverThumbnail":"","ext":{},"tagItems":[{"name":"分布式系统","color":"gray"},{"name":"数据库","color":"yellow"},{"name":"论文阅读","color":"orange"}],"href":"/post/memorydb","target":"_self","password":""},{"id":"94e03781-e74c-41d0-89f7-df2e2a7ad93f","date":{"start_date":"2024-10-27","date_format":"relative"},"type":"Post","slug":"post/db-mmap","tags":["论文阅读","数据库"],"title":"应该在 DBMS 中使用 MMAP 吗？","status":"Published","category":"","comment":"","publishDate":1729987200000,"publishDay":"2024-10-27","lastEditedDate":"2024-11-03T07:26:55.807Z","lastEditedDay":"2024-11-3","fullWidth":false,"pageIcon":"","pageCover":"","pageCoverThumbnail":"","ext":{},"tagItems":[{"name":"论文阅读","color":"orange"},{"name":"数据库","color":"yellow"}],"href":"/post/db-mmap","target":"_self","password":""},{"id":"11688756-3979-8028-b7d8-ce8bf2ec4253","date":{"start_date":"2024-10-21","date_format":"relative"},"type":"Post","slug":"post/japan-travel","tags":["碎碎念","旅行"],"summary":"次の駅は、東京です","title":"日本游记","status":"Published","category":"","comment":"","publishDate":1729468800000,"publishDay":"2024-10-21","lastEditedDate":"2024-11-09T06:15:00.190Z","lastEditedDay":"2024-11-9","fullWidth":false,"pageIcon":"","pageCover":"https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2Fb07e03ea-454d-48b4-a53c-169003780460%2FDSC_0663.jpg?table=block\u0026id=11688756-3979-8028-b7d8-ce8bf2ec4253\u0026t=11688756-3979-8028-b7d8-ce8bf2ec4253\u0026width=800\u0026cache=v2","pageCoverThumbnail":"https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2Fb07e03ea-454d-48b4-a53c-169003780460%2FDSC_0663.jpg?table=block\u0026id=11688756-3979-8028-b7d8-ce8bf2ec4253\u0026t=11688756-3979-8028-b7d8-ce8bf2ec4253\u0026width=800\u0026cache=v2","ext":{},"tagItems":[{"name":"碎碎念","color":"red"},{"name":"旅行","color":"yellow"}],"href":"/post/japan-travel","target":"_self","password":""},{"id":"11d88756-3979-8080-877d-cf9a2d058532","date":{"start_date":"2024-10-13","date_format":"relative"},"type":"Post","slug":"post/pve-migration-rescue","tags":["折腾","PVE"],"title":"PVE 迁移翻车自救","status":"Published","category":"","comment":"","publishDate":1728777600000,"publishDay":"2024-10-13","lastEditedDate":"2024-10-13T12:39:01.428Z","lastEditedDay":"2024-10-13","fullWidth":false,"pageIcon":"","pageCover":"","pageCoverThumbnail":"","ext":{},"tagItems":[{"name":"折腾","color":"blue"},{"name":"PVE","color":"blue"}],"href":"/post/pve-migration-rescue","target":"_self","password":""},{"id":"4e5d7fc0-68d5-4165-ba12-b2d8bfc7d92c","date":{"start_date":"2024-09-21","date_format":"relative"},"type":"Post","slug":"post/rust-no-std","tags":["Rust"],"summary":"Effective Rust Item 33","title":"译：使 Rust library 兼容 no_std","status":"Published","category":"","comment":"","publishDate":1726876800000,"publishDay":"2024-9-21","lastEditedDate":"2024-09-21T10:57:48.427Z","lastEditedDay":"2024-9-21","fullWidth":false,"pageIcon":"","pageCover":"","pageCoverThumbnail":"","ext":{},"tagItems":[{"name":"Rust","color":"orange"}],"href":"/post/rust-no-std","target":"_self","password":""}],"post":{"id":"12988756-3979-8065-aeb4-e6ec1258ed90","date":{"start_date":"2024-11-17","date_format":"relative"},"type":"Post","slug":"post/memorydb","tags":["分布式系统","数据库","论文阅读"],"summary":"MemoryDB 是 Amazon 的一个 Redis 兼容的 KV 数据库，论文发表在 SIGMOD 2024 上","title":"MemoryDB: Redis + Remote Log","status":"Published","category":"","comment":"","publishDate":1731801600000,"publishDay":"2024-11-17","lastEditedDate":"2024-11-18T03:17:24.166Z","lastEditedDay":"2024-11-18","fullWidth":false,"pageIcon":"","pageCover":"","pageCoverThumbnail":"","ext":{},"tagItems":[{"name":"分布式系统","color":"gray"},{"name":"数据库","color":"yellow"},{"name":"论文阅读","color":"orange"}],"href":"/post/memorydb","target":"_self","password":"","blockMap":{"block":{"12988756-3979-8065-aeb4-e6ec1258ed90":{"value":{"id":"12988756-3979-8065-aeb4-e6ec1258ed90","version":839,"type":"page","content":["12d88756-3979-807f-80b6-ef4c5f01124a","12d88756-3979-805b-be4a-ed2e13640a3d","12d88756-3979-80af-aa3e-e067b98d492b","12d88756-3979-8052-89dc-ffc7b2eed4db","12d88756-3979-8036-bb8e-c54f1e0ba673","12d88756-3979-802c-892a-f5d160ed77cb","12d88756-3979-8013-bec0-d94c35c41e7c","12d88756-3979-80c0-8fd3-e200492d6840","12d88756-3979-801e-8237-ef32b93a3dbe","13988756-3979-809c-baaa-e56d8b38fc46","12d88756-3979-807a-ad94-f901673f65b7","13988756-3979-808c-b3df-ff263a312774","12d88756-3979-8038-bd8a-faad3d98bd5e","14088756-3979-80d5-a2ea-ceb9d714ecf5","14088756-3979-8061-a496-d8a366fbab7b","14088756-3979-80fc-8aef-e3adbc85db49","14088756-3979-8070-b80d-c1e6c078dbec","14088756-3979-809e-b1aa-ebfed5766d88","14088756-3979-80f6-9592-cc64e91d2ebd","14088756-3979-80aa-a31e-e110a48c67ca","14088756-3979-8043-bfe9-ecdf25d27f5d","14088756-3979-8018-bcbf-f0bc07649283","14088756-3979-801a-bea6-fd421d11b7d2","14188756-3979-804a-bb79-e2f6312ba5b5","14088756-3979-8053-9ece-fc568a168947","14088756-3979-809f-8ef8-de746992ac8c","14088756-3979-80ae-9654-e8e95f0f65aa","12d88756-3979-807e-94c8-d96b7619675c","14088756-3979-8089-bad1-cad8045e11cd","14088756-3979-8015-a2b4-e8f7663b46ce","14088756-3979-8054-a61a-d9729ec01671","14088756-3979-80ca-9b57-dd2f45869541","14088756-3979-80ff-b8b2-e4bb4374bc41","14088756-3979-8084-be23-d54c8f286921","14088756-3979-8004-b6ce-f2446a3f80cb","14188756-3979-80d6-9b46-d064fa637a1a","14088756-3979-802d-aefc-efb97cd94599","14088756-3979-8097-a233-e83b26700cf5","14188756-3979-8078-91f4-f31333838f93","14188756-3979-80b6-b04b-f0cdcc6b2c00","14188756-3979-808f-9715-e6ce6ac40a02","14188756-3979-802d-a7fa-d4ccb6291952","14088756-3979-80e3-9143-ffcc1806f24d","14088756-3979-807f-a265-ef8743dd7b56","14188756-3979-80a1-a93b-e2d938b064bc","14188756-3979-80fe-9ae3-d054553db05b","14088756-3979-8038-866b-da9256578c95","12d88756-3979-8054-8322-d7d948700acf","14188756-3979-8018-badc-d6eed4fe422d","14188756-3979-808b-85dd-f163a0f02c0c","14188756-3979-80d9-94dd-c4fb42912833","14188756-3979-8022-a5d3-dc5667a7f2d2","14188756-3979-80b1-b627-cae28ba8d78f","14188756-3979-8014-95ac-ec79fd4813c8","14188756-3979-8093-9ed3-c92b6068eacf","14188756-3979-8016-8705-e764ae36bcf0","14188756-3979-8024-81ec-f7e5f4e21a3d","14188756-3979-80db-8095-da56a4bc0e3b","14188756-3979-803a-bd39-d774b44417d0","14188756-3979-802a-8de9-f5c33426d156","14188756-3979-8019-9157-eb9a0a552cf0","14188756-3979-8018-8ee9-f916efef1b6e","14188756-3979-801e-a64c-d8ba1480ba0c","14188756-3979-80c5-bb6f-e39d33c5af6b","14188756-3979-8083-84af-deab35544309","12d88756-3979-807c-9611-fc938591b570","14188756-3979-80f6-bc14-f3f33a2f4ee8","14188756-3979-8006-899e-c53dcc29cb16","14188756-3979-802a-88af-d02e61af4adf","14188756-3979-80d8-8f63-f740dca9eaa8","14188756-3979-80ee-9434-c0d2b9e161ae","14188756-3979-8061-8f0f-eb583f5c6e14","14188756-3979-808d-90f3-d2cf6a15b648","12d88756-3979-8003-a689-f9e865c65c56","14188756-3979-8070-9d92-effe411f181f","14188756-3979-80f7-8685-fcf5fab9dad7","14088756-3979-803c-abfa-c50441fa0657","14088756-3979-807e-9f88-cbad08c534c7","12d88756-3979-805a-8e7a-fbcb7fe1157a","12d88756-3979-8031-afd1-fc31e91d1b2c","12d88756-3979-808e-844e-fa6c6a307e58","12d88756-3979-80c6-b96c-d84821879abe","12d88756-3979-804f-afb3-d33ab8f81c51","12d88756-3979-8056-a5d6-e329712464e9"],"format":{"page_font":"mono","block_locked":false,"block_locked_by":"919e7400-5a69-4402-b2e1-f7d99cc48131","copied_from_pointer":{"id":"2eace25c-842c-46fd-9ccb-e9190981b6c3","table":"block","spaceId":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"page_cover_position":0.6,"social_media_image_preview_url":"https://prod-files-secure.s3.us-west-2.amazonaws.com/4cc04375-345a-4a1e-bdf0-3a7c88ef0425/e95124d1-4272-4693-a1f8-d436df5150c6/SocialMediaPreviewImage.png"},"created_time":1729763871789,"last_edited_time":1731899844166,"parent_id":"0bb2e606-8d0c-4f7c-aca9-70986e90c055","parent_table":"collection","alive":true,"copied_from":"2eace25c-842c-46fd-9ccb-e9190981b6c3","file_ids":["fe6e0d76-4e9d-4e39-b041-789841abc425","e95124d1-4272-4693-a1f8-d436df5150c6"],"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"0dc306ca-50a6-4917-9b5a-85a61f0f66f5":{"value":{"id":"0dc306ca-50a6-4917-9b5a-85a61f0f66f5","version":169,"type":"collection_view_page","content":["c12d1fcb-2e22-4dc3-a5f5-b5010c63059a"],"view_ids":["2efe7048-0d5f-4e04-8b4e-2a3793ad6aef","14588756-3979-8039-9990-000cefddccf8","55d7f55d-3bd1-4a1a-97c9-a6c8354ecd3d","8dfd415c-71af-41f9-b984-e7182bf2210b","3c2f93d8-6810-42a1-87da-55f1ecda9bca"],"collection_id":"0bb2e606-8d0c-4f7c-aca9-70986e90c055","format":{"site_id":"cd684fc1-aa3f-4897-8f3a-ec903e77f063","block_locked":false,"block_locked_by":"27074aef-7216-41ed-baef-d9b53addd870","collection_pointer":{"id":"0bb2e606-8d0c-4f7c-aca9-70986e90c055","table":"collection","spaceId":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"copied_from_pointer":{"id":"02ab3b86-7800-4aa6-9e9e-415905ef32a5","table":"block","spaceId":"6c096b44-beb9-48ee-8f92-1efdde47f3a3"},"page_cover_position":0.5,"social_media_image_preview_url":"https://prod-files-secure.s3.us-west-2.amazonaws.com/4cc04375-345a-4a1e-bdf0-3a7c88ef0425/16412a4f-3220-4021-b553-56a010794a94/SocialMediaPreviewImage.png"},"permissions":[{"role":"editor","type":"user_permission","user_id":"919e7400-5a69-4402-b2e1-f7d99cc48131"},{"role":"reader","type":"public_permission","added_timestamp":1724420656606,"allow_duplicate":false}],"created_time":1724383978099,"last_edited_time":1732282998855,"parent_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425","parent_table":"space","alive":true,"copied_from":"02ab3b86-7800-4aa6-9e9e-415905ef32a5","file_ids":["49b4570c-b2f0-457b-81b7-b68e2693a471","708d7d1d-6233-408b-952f-594bb2831de7","145cea07-09d7-4146-bcf5-bebd1518488c","a9af1d6b-f284-4734-ba06-990353cf3f84","20ee2bf3-8f75-4cd7-9d6e-e1a780d5f17c","16412a4f-3220-4021-b553-56a010794a94"],"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"12d88756-3979-807f-80b6-ef4c5f01124a":{"value":{"id":"12d88756-3979-807f-80b6-ef4c5f01124a","version":388,"type":"text","properties":{"title":[["MemoryDB 是 Amazon 的一个 Redis 兼容的 KV 数据库，论文发表在 SIGMOD 2024 上"]]},"created_time":1730106771183,"last_edited_time":1730109339576,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"12d88756-3979-805b-be4a-ed2e13640a3d":{"value":{"id":"12d88756-3979-805b-be4a-ed2e13640a3d","version":1627,"type":"text","properties":{"title":[["由于 Redis 是内存数据库，持久性保证比较弱，因此在使用 Redis 作为主存储的低延迟需求场景，大部分人会构建一套复杂的架构来同步或备份 Redis 的数据，Redis 自己也提供了复制和集群的功能，然而这其中的容错处理无法真正保证一致性和持久性。MemoryDB 诞生就是为了解决这个问题，提供一个"],["能保证持久性的高可用强一致 Redis，并且仍然保持内存级性能",[["b"]]]]},"created_time":1730106852312,"last_edited_time":1731847982100,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"12d88756-3979-80af-aa3e-e067b98d492b":{"value":{"id":"12d88756-3979-80af-aa3e-e067b98d492b","version":3,"type":"text","created_time":1730107115454,"last_edited_time":1730107115469,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"12d88756-3979-8052-89dc-ffc7b2eed4db":{"value":{"id":"12d88756-3979-8052-89dc-ffc7b2eed4db","version":21,"type":"header","properties":{"title":[["架构"]]},"created_time":1730106770068,"last_edited_time":1730106956851,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"12d88756-3979-8036-bb8e-c54f1e0ba673":{"value":{"id":"12d88756-3979-8036-bb8e-c54f1e0ba673","version":577,"type":"text","properties":{"title":[["首先回顾下 Redis 自身的持久化和一致性挑战："]]},"created_time":1730107926259,"last_edited_time":1731157047036,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"12d88756-3979-802c-892a-f5d160ed77cb":{"value":{"id":"12d88756-3979-802c-892a-f5d160ed77cb","version":472,"type":"numbered_list","properties":{"title":[["Redis 通过副本提供高可用，但这个过程是异步的，当主节点故障，副节点被提升为主节点而复制未完成时，就会永久丢失数据"]]},"created_time":1730107975427,"last_edited_time":1730126346046,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"12d88756-3979-8013-bec0-d94c35c41e7c":{"value":{"id":"12d88756-3979-8013-bec0-d94c35c41e7c","version":870,"type":"numbered_list","properties":{"title":[["Redis 包含 RDB 和 AOF 两种持久化方法，分别是快照和事务日志，对于 AOF 可以配置成每次写入都执行 "],["fsync()",[["c"]]],[" 以牺牲可用性为代价提供持久化。但多节点场景 AOF 不能提供任何保证，主节点故障时同样没有办法确保选举出的副本具有最新数据，最坏情况下这个副本可能没有任何数据，导致数据完全丢失"]]},"created_time":1730107996527,"last_edited_time":1730126499310,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"12d88756-3979-80c0-8fd3-e200492d6840":{"value":{"id":"12d88756-3979-80c0-8fd3-e200492d6840","version":802,"type":"numbered_list","properties":{"title":[["Redis 提供了 "],["WAIT",[["c"]]],[" 命令，通过该命令，客户端能阻塞等待数据同步复制直到完成。但 "],["WAIT",[["c"]]],[" 只对当前连接有效，不是全局的。对于其他客户端来说仍然无法保证观察到的数据一致性。同样，故障时也没法做任何保证"]]},"created_time":1730125985765,"last_edited_time":1730126495745,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"12d88756-3979-801e-8237-ef32b93a3dbe":{"value":{"id":"12d88756-3979-801e-8237-ef32b93a3dbe","version":206,"type":"text","properties":{"title":[["简单来说，"],["Redis 故障转移会导致数据丢失",[["b"]]]]},"created_time":1730125908941,"last_edited_time":1730126444422,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"13988756-3979-809c-baaa-e56d8b38fc46":{"value":{"id":"13988756-3979-809c-baaa-e56d8b38fc46","version":3,"type":"text","created_time":1731157048071,"last_edited_time":1731157048073,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"12d88756-3979-807a-ad94-f901673f65b7":{"value":{"id":"12d88756-3979-807a-ad94-f901673f65b7","version":798,"type":"text","properties":{"title":[["MemoryDB 直接基于 Redis 构建，但并没有进行侵入性修改。这里通过加入一个分布式事务日志服务将两层实现解耦，Redis 只相当于这套架构底下的执行引擎"]]},"created_time":1730126454872,"last_edited_time":1731157391799,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"13988756-3979-808c-b3df-ff263a312774":{"value":{"id":"13988756-3979-808c-b3df-ff263a312774","version":296,"type":"text","properties":{"title":[["Redis 主节点自身的复制流会被拦截，重定向到事务日志中。在同步写入日志成功后对客户端返回，所有其他副本都只是重放日志"]]},"created_time":1731157371878,"last_edited_time":1731768567506,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"12d88756-3979-8038-bd8a-faad3d98bd5e":{"value":{"id":"12d88756-3979-8038-bd8a-faad3d98bd5e","version":95,"type":"image","properties":{"size":[["202.4KB"]],"title":[["image.png"]],"source":[["https://prod-files-secure.s3.us-west-2.amazonaws.com/4cc04375-345a-4a1e-bdf0-3a7c88ef0425/c20e8ae2-0be9-402e-a134-7c5ce4a0fa29/image.png"]],"caption":[["MemoryDB 架构（话说这图真糊啊"]]},"format":{"block_width":384,"display_source":"https://prod-files-secure.s3.us-west-2.amazonaws.com/4cc04375-345a-4a1e-bdf0-3a7c88ef0425/c20e8ae2-0be9-402e-a134-7c5ce4a0fa29/image.png","block_full_width":false,"block_page_width":false,"block_aspect_ratio":1.0092378752886837,"block_preserve_scale":true},"created_time":1730107831725,"last_edited_time":1731768546101,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"file_ids":["c20e8ae2-0be9-402e-a134-7c5ce4a0fa29"],"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-80d5-a2ea-ceb9d714ecf5":{"value":{"id":"14088756-3979-80d5-a2ea-ceb9d714ecf5","version":3,"type":"text","created_time":1731753456719,"last_edited_time":1731753456721,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-8061-a496-d8a366fbab7b":{"value":{"id":"14088756-3979-8061-a496-d8a366fbab7b","version":3,"type":"header","properties":{"title":[["持久性"]]},"format":{"copied_from_pointer":{"id":"12d88756-3979-80ae-b2e6-f65581b9d335","table":"block","spaceId":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"}},"created_time":1731753457604,"last_edited_time":1731753457607,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"copied_from":"12d88756-3979-80ae-b2e6-f65581b9d335","space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-80fc-8aef-e3adbc85db49":{"value":{"id":"14088756-3979-80fc-8aef-e3adbc85db49","version":593,"type":"text","properties":{"title":[["事务日志服务是 Multi-AZ 的，能提供持久化的存储，对主节点的操作会同步写入到事务日志中，其他副本就像普通的 Redis 复制过程一样读取事务日志"]]},"created_time":1731753500079,"last_edited_time":1731754904974,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-8070-b80d-c1e6c078dbec":{"value":{"id":"14088756-3979-8070-b80d-c1e6c078dbec","version":549,"type":"text","properties":{"title":[["可以看出这里事务日志是系统的核心，提供了完美的保证，但论文没有具体说明它是如何构建的，应该又是 Amazon 内部的黑盒服务"]]},"created_time":1731753635017,"last_edited_time":1731753827563,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-809e-b1aa-ebfed5766d88":{"value":{"id":"14088756-3979-809e-b1aa-ebfed5766d88","version":951,"type":"text","properties":{"title":[["部分分布式数据库允许使用 Kafka 作为 Remote WAL，所以如果要做一个 MemoryDB 的开源实现，Kafka 应该可以承担这个事务日志服务的角色，但还是会有很多额外工作量"]]},"created_time":1731753900161,"last_edited_time":1731837568361,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-80f6-9592-cc64e91d2ebd":{"value":{"id":"14088756-3979-80f6-9592-cc64e91d2ebd","version":134,"type":"text","created_time":1731753459974,"last_edited_time":1731753678431,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-80aa-a31e-e110a48c67ca":{"value":{"id":"14088756-3979-80aa-a31e-e110a48c67ca","version":56,"type":"header","properties":{"title":[["一致性"]]},"created_time":1731745342152,"last_edited_time":1731745348162,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-8043-bfe9-ecdf25d27f5d":{"value":{"id":"14088756-3979-8043-bfe9-ecdf25d27f5d","version":537,"type":"text","properties":{"title":[["MemoryDB 这里的日志是一种 WBL（Write-behind logging），选择 WBL 而不是 WAL 的原因是它天然和 Redis 的复制模型保持一致，例如 SPOP 之类的随机操作也能保证相同的结果"]]},"created_time":1731740210315,"last_edited_time":1731753467251,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-8018-bcbf-f0bc07649283":{"value":{"id":"14088756-3979-8018-bcbf-f0bc07649283","version":3,"type":"text","created_time":1731745583409,"last_edited_time":1731745583411,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-801a-bea6-fd421d11b7d2":{"value":{"id":"14088756-3979-801a-bea6-fd421d11b7d2","version":1066,"type":"text","properties":{"title":[["但这样会带来的问题是写入日志前故障会导致不一致，所以这里需要事务日志 ACK 了才能向客户端返回。MemoryDB 通过添加一层 client blocking 层作为 tracker 实现这一点，考虑到 MemoryDB 避免修改 Redis 的前提下，我猜应该类似这样的实现"]]},"created_time":1731745501733,"last_edited_time":1731847648872,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-804a-bb79-e2f6312ba5b5":{"value":{"id":"14188756-3979-804a-bb79-e2f6312ba5b5","version":13,"type":"image","properties":{"size":[["82.4KB"]],"title":[["未命名绘图.drawio.png"]],"source":[["https://prod-files-secure.s3.us-west-2.amazonaws.com/4cc04375-345a-4a1e-bdf0-3a7c88ef0425/bfc3d68f-ea82-430d-99cb-248f2d66a4bc/%E6%9C%AA%E5%91%BD%E5%90%8D%E7%BB%98%E5%9B%BE.drawio.png"]]},"format":{"block_width":288,"display_source":"https://prod-files-secure.s3.us-west-2.amazonaws.com/4cc04375-345a-4a1e-bdf0-3a7c88ef0425/bfc3d68f-ea82-430d-99cb-248f2d66a4bc/%E6%9C%AA%E5%91%BD%E5%90%8D%E7%BB%98%E5%9B%BE.drawio.png","block_full_width":false,"block_page_width":false,"block_aspect_ratio":1.6556776556776556,"block_preserve_scale":true},"created_time":1731847624069,"last_edited_time":1731847627905,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"file_ids":["bfc3d68f-ea82-430d-99cb-248f2d66a4bc"],"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-8053-9ece-fc568a168947":{"value":{"id":"14088756-3979-8053-9ece-fc568a168947","version":818,"type":"text","properties":{"title":[["这里的好处同样是解耦了 Redis，即使事务日志写入未确认，仍然可以让 Redis 继续处理接下来的请求"]]},"created_time":1731746606434,"last_edited_time":1731754974926,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-809f-8ef8-de746992ac8c":{"value":{"id":"14088756-3979-809f-8ef8-de746992ac8c","version":150,"type":"text","properties":{"title":[["但对于主节点的读操作，仍然需要等待其所依赖的写入被持久化，因此在 tracker 需要去 trace 每个尚未被写入日志的 key。只对主节点读写可以提供线性一致性，也允许直接从副本读，这时提供的是顺序一致性，跨多个副本的读取则是最终一致的"]]},"created_time":1731754974923,"last_edited_time":1731899845356,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-80ae-9654-e8e95f0f65aa":{"value":{"id":"14088756-3979-80ae-9654-e8e95f0f65aa","version":3,"type":"text","created_time":1731753385772,"last_edited_time":1731753385777,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"12d88756-3979-807e-94c8-d96b7619675c":{"value":{"id":"12d88756-3979-807e-94c8-d96b7619675c","version":147,"type":"header","properties":{"title":[["可用性"]]},"created_time":1730106961731,"last_edited_time":1731844620787,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-8089-bad1-cad8045e11cd":{"value":{"id":"14088756-3979-8089-bad1-cad8045e11cd","version":529,"type":"text","properties":{"title":[["通过前面的手段，已经能保证主节点正常工作时的持久性和一致性，接下来需要再考虑下分布式系统中最重要的容错处理，主要是以下三个问题："]]},"created_time":1731754058440,"last_edited_time":1731766486781,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-8015-a2b4-e8f7663b46ce":{"value":{"id":"14088756-3979-8015-a2b4-e8f7663b46ce","version":94,"type":"numbered_list","properties":{"title":[["故障检测：副本如何知道主节点故障"]]},"created_time":1731765765573,"last_edited_time":1731765781130,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-8054-a61a-d9729ec01671":{"value":{"id":"14088756-3979-8054-a61a-d9729ec01671","version":143,"type":"numbered_list","properties":{"title":[["选举方式：哪些副本会被提升为主节点"]]},"created_time":1731765783229,"last_edited_time":1731765804180,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-80ca-9b57-dd2f45869541":{"value":{"id":"14088756-3979-80ca-9b57-dd2f45869541","version":159,"type":"numbered_list","properties":{"title":[["故障恢复：临时故障的节点如何恢复"]]},"created_time":1731765815063,"last_edited_time":1731765855230,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-80ff-b8b2-e4bb4374bc41":{"value":{"id":"14088756-3979-80ff-b8b2-e4bb4374bc41","version":3,"type":"text","created_time":1731765899888,"last_edited_time":1731765899889,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-8084-be23-d54c8f286921":{"value":{"id":"14088756-3979-8084-be23-d54c8f286921","version":443,"type":"text","properties":{"title":[["MemoryDB 完美利用事务日志实现了以上三点。事务日志中除了正常数据的复制流，还会包括一些控制日志"]]},"created_time":1731765857463,"last_edited_time":1731770884162,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-8004-b6ce-f2446a3f80cb":{"value":{"id":"14088756-3979-8004-b6ce-f2446a3f80cb","version":478,"type":"text","properties":{"title":[["故障检测的方法就是典型的心跳，但这里心跳是作为一条日志，主节点定期写入心跳/租约日志，如果副本未能在租约期限内观测到这类日志，就认为主节点宕机，触发选举"]]},"created_time":1731766692696,"last_edited_time":1731844451890,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-80d6-9b46-d064fa637a1a":{"value":{"id":"14188756-3979-80d6-9b46-d064fa637a1a","version":5,"type":"callout","content":["c91a7dc6-8b08-4f2b-91af-ff9c291a0c1b"],"format":{"page_icon":"❓","block_color":"yellow_background","callout_version":2},"created_time":1731838725848,"last_edited_time":1731838725852,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-802d-aefc-efb97cd94599":{"value":{"id":"14088756-3979-802d-aefc-efb97cd94599","version":3,"type":"text","created_time":1731770619099,"last_edited_time":1731770619102,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-8097-a233-e83b26700cf5":{"value":{"id":"14088756-3979-8097-a233-e83b26700cf5","version":1295,"type":"text","properties":{"title":[["其次是具体选主方式，选主时所有副本都只会和日志服务交互，不会互相通信，因此这里并不是采用 quorum 之类的投票方式，而同样是采用写入日志的方法"]]},"created_time":1731767033519,"last_edited_time":1731836652782,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-8078-91f4-f31333838f93":{"value":{"id":"14188756-3979-8078-91f4-f31333838f93","version":520,"type":"text","properties":{"title":[["每个日志都会有一个唯一 ID，且 append 新日志时，必须指定前序日志 ID。因此多个副本竞争选主时，只有第一个竞选日志是有效的，这也确保了能竞选的副本必然拥有最新数据。新主上台后会通过 gossip 协议通知其他节点，这部分是采用 Redis Cluster 自己的实现"]]},"created_time":1731835718569,"last_edited_time":1731848561868,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-80b6-b04b-f0cdcc6b2c00":{"value":{"id":"14188756-3979-80b6-b04b-f0cdcc6b2c00","version":3,"type":"text","created_time":1731836046178,"last_edited_time":1731836046180,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-808f-9715-e6ce6ac40a02":{"value":{"id":"14188756-3979-808f-9715-e6ce6ac40a02","version":1133,"type":"text","properties":{"title":[["最后，当故障的主节点恢复时，由于租约过期，它会自行下台重新作为副本工作。除了利用心跳日志实现的故障检测，MemoryDB 通过带外监控服务的心跳检测和内部 Redis Cluster 的 gossip 结合来获得一个集群视图，管控面会在其认为故障的节点上重启 Redis 进程或启动新副本轮替该节点"]]},"created_time":1731835921174,"last_edited_time":1731843776274,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-802d-a7fa-d4ccb6291952":{"value":{"id":"14188756-3979-802d-a7fa-d4ccb6291952","version":917,"type":"text","properties":{"title":[["MemoryDB 做了很多优化去减少 MTTR（Mean time to recovery）。在运行时，Redis 自身的持久化/快照（RDB）机制也在工作，快照被上传到 S3 中，新副本启动或恢复时会通过 S3 获得快照快速赶上进度然后开始回放事务日志"]]},"created_time":1731837445609,"last_edited_time":1731843652770,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-80e3-9143-ffcc1806f24d":{"value":{"id":"14088756-3979-80e3-9143-ffcc1806f24d","version":23,"type":"image","properties":{"size":[["89.8KB"]],"title":[["image.png"]],"source":[["https://prod-files-secure.s3.us-west-2.amazonaws.com/4cc04375-345a-4a1e-bdf0-3a7c88ef0425/9f382b69-dd91-4ea1-909c-793eeaef7f63/image.png"]]},"format":{"block_width":336,"block_height":532,"display_source":"https://prod-files-secure.s3.us-west-2.amazonaws.com/4cc04375-345a-4a1e-bdf0-3a7c88ef0425/9f382b69-dd91-4ea1-909c-793eeaef7f63/image.png","block_full_width":false,"block_page_width":false,"block_aspect_ratio":1.176991150442478,"block_preserve_scale":true},"created_time":1731767897993,"last_edited_time":1731840412707,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"file_ids":["9f382b69-dd91-4ea1-909c-793eeaef7f63"],"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-807f-a265-ef8743dd7b56":{"value":{"id":"14088756-3979-807f-a265-ef8743dd7b56","version":1218,"type":"text","properties":{"title":[["Redis 的快照是通过 Linux 的 fork 写时复制特性来实现的，虽然整体开销已经很小，但也不可避免地带来一些性能抖动，包括瞬时的内存占用"]]},"created_time":1731765856670,"last_edited_time":1731843164854,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-80a1-a93b-e2d938b064bc":{"value":{"id":"14188756-3979-80a1-a93b-e2d938b064bc","version":811,"type":"text","properties":{"title":[["MemoryDB 的优化相当于把写时复制从进程扩展到集群层面，快照时会启动一个 off-box 临时集群，临时集群和副本恢复一样，先恢复数据到最新状态，再进行快照。虽然看起来有点重，成本很高，但优点是能完全避免快照导致用户集群产生抖动以及这期间的可用性降低两个问题"]]},"created_time":1731843164850,"last_edited_time":1731847433561,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-80fe-9ae3-d054553db05b":{"value":{"id":"14188756-3979-80fe-9ae3-d054553db05b","version":11,"type":"callout","content":["c68f894d-33d1-4e0e-bb0f-6098e492c5d6"],"format":{"page_icon":"💡","block_color":"yellow_background","callout_version":2},"created_time":1731838791550,"last_edited_time":1731838813733,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-8038-866b-da9256578c95":{"value":{"id":"14088756-3979-8038-866b-da9256578c95","version":423,"type":"text","created_time":1731753549713,"last_edited_time":1731838792855,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"12d88756-3979-8054-8322-d7d948700acf":{"value":{"id":"12d88756-3979-8054-8322-d7d948700acf","version":21,"type":"header","properties":{"title":[["性能"]]},"created_time":1730106964265,"last_edited_time":1730106965900,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-8018-badc-d6eed4fe422d":{"value":{"id":"14188756-3979-8018-badc-d6eed4fe422d","version":179,"type":"text","properties":{"title":[["最后是例行环节 evaluation"]]},"created_time":1731844968115,"last_edited_time":1731845682393,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-808b-85dd-f163a0f02c0c":{"value":{"id":"14188756-3979-808b-85dd-f163a0f02c0c","version":3,"type":"text","created_time":1731845191227,"last_edited_time":1731845191228,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"c91a7dc6-8b08-4f2b-91af-ff9c291a0c1b":{"value":{"id":"c91a7dc6-8b08-4f2b-91af-ff9c291a0c1b","version":97,"type":"text","properties":{"title":[["这里感觉会有些时钟问题"]]},"created_time":1731838725848,"last_edited_time":1731838732404,"parent_id":"14188756-3979-80d6-9b46-d064fa637a1a","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"c68f894d-33d1-4e0e-bb0f-6098e492c5d6":{"value":{"id":"c68f894d-33d1-4e0e-bb0f-6098e492c5d6","version":182,"type":"text","properties":{"title":[["关于这一点，还可以看看别家的解决方案，例如阿里云直接修改了内核把 fork 时开销最多的的页表复制过程放到子进程中："],["Async-fork: Mitigating Query Latency Spikes Incurred by the Fork-based Snapshot Mechanism from the OS Level",[["a","https://www.vldb.org/pvldb/vol16/p1033-chen.pdf"]]]]},"created_time":1731838791550,"last_edited_time":1731843287574,"parent_id":"14188756-3979-80fe-9ae3-d054553db05b","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-80d9-94dd-c4fb42912833":{"value":{"id":"14188756-3979-80d9-94dd-c4fb42912833","version":65,"type":"text","properties":{"title":[["只读(a)和只写(b)负载："]]},"created_time":1731845191086,"last_edited_time":1731845810081,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-8022-a5d3-dc5667a7f2d2":{"value":{"id":"14188756-3979-8022-a5d3-dc5667a7f2d2","version":19,"type":"image","properties":{"size":[["162.1KB"]],"title":[["image.png"]],"source":[["https://prod-files-secure.s3.us-west-2.amazonaws.com/4cc04375-345a-4a1e-bdf0-3a7c88ef0425/85832d91-1442-4d30-a09f-b8357d87adbc/image.png"]]},"format":{"block_width":528,"display_source":"https://prod-files-secure.s3.us-west-2.amazonaws.com/4cc04375-345a-4a1e-bdf0-3a7c88ef0425/85832d91-1442-4d30-a09f-b8357d87adbc/image.png","block_full_width":false,"block_page_width":false,"block_aspect_ratio":0.48214285714285715,"block_preserve_scale":true},"created_time":1731844968412,"last_edited_time":1731848003979,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"file_ids":["85832d91-1442-4d30-a09f-b8357d87adbc"],"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-80b1-b627-cae28ba8d78f":{"value":{"id":"14188756-3979-80b1-b627-cae28ba8d78f","version":870,"type":"text","properties":{"title":[["写请求由于有对事务日志的同步写入，性能基本是 Redis 的 1/3 到 1/2 左右，符合预期。但读性能没有理由 MemoryDB 能比 Redis 还快啊？感觉有些猫腻，论文里说是因为 MemoryDB 通过优化过的 I/O 多路复用聚合了客户端链接，但我对此保留疑问"]]},"created_time":1731845204969,"last_edited_time":1731848015239,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-8014-95ac-ec79fd4813c8":{"value":{"id":"14188756-3979-8014-95ac-ec79fd4813c8","version":3,"type":"text","created_time":1731845348339,"last_edited_time":1731845348341,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-8093-9ed3-c92b6068eacf":{"value":{"id":"14188756-3979-8093-9ed3-c92b6068eacf","version":209,"type":"text","properties":{"title":[["只读(a)、只写(b)和混合读写(c)的时延表现，基本符合预期："]]},"created_time":1731845263918,"last_edited_time":1731845805767,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-8016-8705-e764ae36bcf0":{"value":{"id":"14188756-3979-8016-8705-e764ae36bcf0","version":13,"type":"image","properties":{"size":[["354.0KB"]],"title":[["image.png"]],"source":[["https://prod-files-secure.s3.us-west-2.amazonaws.com/4cc04375-345a-4a1e-bdf0-3a7c88ef0425/2b826c0e-8de6-44a1-9ad2-ac24b15a0c0b/image.png"]]},"format":{"block_width":707.98291015625,"display_source":"https://prod-files-secure.s3.us-west-2.amazonaws.com/4cc04375-345a-4a1e-bdf0-3a7c88ef0425/2b826c0e-8de6-44a1-9ad2-ac24b15a0c0b/image.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.3861671469740634,"block_preserve_scale":true},"created_time":1731844973185,"last_edited_time":1731844977438,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"file_ids":["2b826c0e-8de6-44a1-9ad2-ac24b15a0c0b"],"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-8024-81ec-f7e5f4e21a3d":{"value":{"id":"14188756-3979-8024-81ec-f7e5f4e21a3d","version":3,"type":"text","created_time":1731845983033,"last_edited_time":1731845983035,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-80db-8095-da56a4bc0e3b":{"value":{"id":"14188756-3979-80db-8095-da56a4bc0e3b","version":280,"type":"text","properties":{"title":[["接下来是快照，负载是 2000w 个 500 bytes 的 key，节点配置 2c16G。快照同时 100 个 client 执行 GET，20 个 client 执行 SET"]]},"created_time":1731845687330,"last_edited_time":1731846071594,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-803a-bd39-d774b44417d0":{"value":{"id":"14188756-3979-803a-bd39-d774b44417d0","version":403,"type":"text","properties":{"title":[["Redis 在快照期间的请求的延迟(a)和吞吐量(b)影响，以及内存占用情况："]]},"created_time":1731845625868,"last_edited_time":1731846001247,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-802a-8de9-f5c33426d156":{"value":{"id":"14188756-3979-802a-8de9-f5c33426d156","version":13,"type":"image","properties":{"size":[["324.6KB"]],"title":[["image.png"]],"source":[["https://prod-files-secure.s3.us-west-2.amazonaws.com/4cc04375-345a-4a1e-bdf0-3a7c88ef0425/2b3b487b-c4c7-430f-80cc-d0c1ab6f5df5/image.png"]]},"format":{"block_width":707.9900512695312,"display_source":"https://prod-files-secure.s3.us-west-2.amazonaws.com/4cc04375-345a-4a1e-bdf0-3a7c88ef0425/2b3b487b-c4c7-430f-80cc-d0c1ab6f5df5/image.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.366412213740458,"block_preserve_scale":true},"created_time":1731844978696,"last_edited_time":1731844981972,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"file_ids":["2b3b487b-c4c7-430f-80cc-d0c1ab6f5df5"],"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-8019-9157-eb9a0a552cf0":{"value":{"id":"14188756-3979-8019-9157-eb9a0a552cf0","version":116,"type":"text","properties":{"title":[["MemoryDB 在快照期间的延迟(a)和吞吐量(b)："]]},"created_time":1731845732210,"last_edited_time":1731845840971,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-8018-8ee9-f916efef1b6e":{"value":{"id":"14188756-3979-8018-8ee9-f916efef1b6e","version":3,"type":"text","created_time":1731845730734,"last_edited_time":1731845730737,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-801e-a64c-d8ba1480ba0c":{"value":{"id":"14188756-3979-801e-a64c-d8ba1480ba0c","version":13,"type":"image","properties":{"size":[["302.2KB"]],"title":[["image.png"]],"source":[["https://prod-files-secure.s3.us-west-2.amazonaws.com/4cc04375-345a-4a1e-bdf0-3a7c88ef0425/07c212c9-11a1-40a0-a226-8a42735f85fd/image.png"]]},"format":{"block_width":707.975830078125,"display_source":"https://prod-files-secure.s3.us-west-2.amazonaws.com/4cc04375-345a-4a1e-bdf0-3a7c88ef0425/07c212c9-11a1-40a0-a226-8a42735f85fd/image.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.3709923664122137,"block_preserve_scale":true},"created_time":1731844982970,"last_edited_time":1731844986269,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"file_ids":["07c212c9-11a1-40a0-a226-8a42735f85fd"],"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-80c5-bb6f-e39d33c5af6b":{"value":{"id":"14188756-3979-80c5-bb6f-e39d33c5af6b","version":442,"type":"text","properties":{"title":[["也符合预期，MemoryDB 非常稳定，不过看起来显然也田忌赛马了，没有评估这启动一个临时集群的成本开销，整个快照过程也慢不少"]]},"created_time":1731845843299,"last_edited_time":1731846111975,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-8083-84af-deab35544309":{"value":{"id":"14188756-3979-8083-84af-deab35544309","version":3,"type":"text","created_time":1731845843454,"last_edited_time":1731845843456,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"12d88756-3979-807c-9611-fc938591b570":{"value":{"id":"12d88756-3979-807c-9611-fc938591b570","version":109,"type":"header","properties":{"title":[["总结"]]},"created_time":1730106774481,"last_edited_time":1731162847952,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-80f6-bc14-f3f33a2f4ee8":{"value":{"id":"14188756-3979-80f6-bc14-f3f33a2f4ee8","version":54,"type":"text","properties":{"title":[["总结一下几点："]]},"created_time":1731847182180,"last_edited_time":1731847196133,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-8006-899e-c53dcc29cb16":{"value":{"id":"14188756-3979-8006-899e-c53dcc29cb16","version":30,"type":"numbered_list","properties":{"title":[["Redis 仅仅作为执行引擎，解耦实现"]]},"created_time":1731847508342,"last_edited_time":1731847563502,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-802a-88af-d02e61af4adf":{"value":{"id":"14188756-3979-802a-88af-d02e61af4adf","version":11,"type":"numbered_list","properties":{"title":[["通过事务日志（transaction log）同步写保证持久性"]]},"format":{"copied_from_pointer":{"id":"14188756-3979-8002-9e3b-e17fa0b6e246","table":"block","spaceId":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"}},"created_time":1731847508596,"last_edited_time":1731847719891,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"copied_from":"14188756-3979-8002-9e3b-e17fa0b6e246","space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-80d8-8f63-f740dca9eaa8":{"value":{"id":"14188756-3979-80d8-8f63-f740dca9eaa8","version":194,"type":"numbered_list","properties":{"title":[["tracker 追踪未完成持久化的 key，提供线性一致性"]]},"created_time":1731847585284,"last_edited_time":1731847703228,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-80ee-9434-c0d2b9e161ae":{"value":{"id":"14188756-3979-80ee-9434-c0d2b9e161ae","version":3,"type":"numbered_list","properties":{"title":[["围绕 log 实现租约和选主"]]},"format":{"copied_from_pointer":{"id":"14188756-3979-80a5-bf1d-f8c1b2073fbd","table":"block","spaceId":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"}},"created_time":1731847508597,"last_edited_time":1731847508606,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"copied_from":"14188756-3979-80a5-bf1d-f8c1b2073fbd","space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-8061-8f0f-eb583f5c6e14":{"value":{"id":"14188756-3979-8061-8f0f-eb583f5c6e14","version":7,"type":"numbered_list","properties":{"title":[["快照卸载到 off-box 集群上执行，避免抖动"]]},"format":{"copied_from_pointer":{"id":"14188756-3979-8068-a681-e7393505e564","table":"block","spaceId":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"}},"created_time":1731847508597,"last_edited_time":1731847744527,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"copied_from":"14188756-3979-8068-a681-e7393505e564","space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-808d-90f3-d2cf6a15b648":{"value":{"id":"14188756-3979-808d-90f3-d2cf6a15b648","version":52,"type":"text","created_time":1731847382959,"last_edited_time":1731847390554,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"12d88756-3979-8003-a689-f9e865c65c56":{"value":{"id":"12d88756-3979-8003-a689-f9e865c65c56","version":2086,"type":"text","properties":{"title":[["总体来说，是很巧妙的想法和实现，仅仅围绕 log 就实现了这一切。而且从兼容 Redis 这一核心目的角度来看，通过 log 的解耦，能做到极低的侵入性，也就意味着更高的兼容性和可维护性，是非常好的工程实践。大多数开源 fork 魔改到最后，gap 越来越大，再要保持兼容的话维护成本就会很高"]]},"created_time":1730106774766,"last_edited_time":1731847759424,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-8070-9d92-effe411f181f":{"value":{"id":"14188756-3979-8070-9d92-effe411f181f","version":3,"type":"text","created_time":1731846899768,"last_edited_time":1731846899770,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14188756-3979-80f7-8685-fcf5fab9dad7":{"value":{"id":"14188756-3979-80f7-8685-fcf5fab9dad7","version":314,"type":"text","properties":{"title":[["另一方面也引发了我关于 log 的更多思考，大多数数据系统都会有 WAL 或其他各种 log，这种基于 log 复制的 idea 在共识算法中也很常见。MemoryDB 展示了一个如何通过这些 log 扩展系统的完美例子，再回过头来看其他系统、设计和解决方案，不禁会想是不是也能在 log 上迸发出无限可能"]]},"created_time":1731846432460,"last_edited_time":1731848317357,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-803c-abfa-c50441fa0657":{"value":{"id":"14088756-3979-803c-abfa-c50441fa0657","version":3,"type":"text","created_time":1731754308573,"last_edited_time":1731754308574,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14088756-3979-807e-9f88-cbad08c534c7":{"value":{"id":"14088756-3979-807e-9f88-cbad08c534c7","version":226,"type":"text","properties":{"title":[["之后如果有时间，可能打算去复刻一个 MemoryDB 的实现"]]},"created_time":1731754308437,"last_edited_time":1731847806633,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"12d88756-3979-805a-8e7a-fbcb7fe1157a":{"value":{"id":"12d88756-3979-805a-8e7a-fbcb7fe1157a","version":3,"type":"text","created_time":1730106774921,"last_edited_time":1730106774922,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"12d88756-3979-8031-afd1-fc31e91d1b2c":{"value":{"id":"12d88756-3979-8031-afd1-fc31e91d1b2c","version":21,"type":"header","properties":{"title":[["Ref"]]},"created_time":1730106773216,"last_edited_time":1730107256421,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"12d88756-3979-808e-844e-fa6c6a307e58":{"value":{"id":"12d88756-3979-808e-844e-fa6c6a307e58","version":41,"type":"bulleted_list","properties":{"title":[["Amazon MemoryDB: A Fast and Durable Memory-First Cloud Database",[["a","https://assets.amazon.science/e0/1b/ba6c28034babbc1b18f54aa8102e/amazon-memorydb-a-fast-and-durable-memory-first-cloud-database.pdf"]]]]},"created_time":1730107261014,"last_edited_time":1730107313719,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"12d88756-3979-80c6-b96c-d84821879abe":{"value":{"id":"12d88756-3979-80c6-b96c-d84821879abe","version":15,"type":"bulleted_list","properties":{"title":[["溯本追源 – Amazon MemoryDB SIGMOD 2024 论文解读 | 亚马逊AWS官方博客",[["a","https://aws.amazon.com/cn/blogs/china/amazon-memorydb-a-brief-introduction-to-the-sigmod-2024-paper/"]]]]},"created_time":1730107198942,"last_edited_time":1730107216794,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"12d88756-3979-804f-afb3-d33ab8f81c51":{"value":{"id":"12d88756-3979-804f-afb3-d33ab8f81c51","version":17,"type":"bulleted_list","properties":{"title":[["从一到无穷大 #27 从Amazon MemoryDB视角看稳定binlog带来的无限可能性",[["a","https://blog.xiyoulinux.com/blog/104106524"]]]]},"created_time":1730107219453,"last_edited_time":1730107248730,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"12d88756-3979-8056-a5d6-e329712464e9":{"value":{"id":"12d88756-3979-8056-a5d6-e329712464e9","version":3,"type":"text","created_time":1730107299251,"last_edited_time":1730107299252,"parent_id":"12988756-3979-8065-aeb4-e6ec1258ed90","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"}},"collection":{"0bb2e606-8d0c-4f7c-aca9-70986e90c055":{"value":{"id":"0bb2e606-8d0c-4f7c-aca9-70986e90c055","version":83,"name":[["x³u³"]],"description":[["🗒 碎碎念"]],"schema":{"@NcA":{"name":"password","type":"text"},"Dj]h":{"name":"icon","type":"text"},"NX\\Q":{"name":"date","type":"date","date_format":"YYYY/MM/DD"},"`gQ~":{"name":"type","type":"select","options":[{"id":"5aff2f95-fd1e-489b-8840-bf10bc9519cb","color":"purple","value":"Post","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"374d2bc6-a144-4832-8ca4-474aaae0ea1f","color":"orange","value":"Page","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"95b7fea5-98b3-476e-892f-79e8f36d0633","color":"brown","value":"Notice","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"2287395b-9f64-4852-b46f-ff3df4b4acef","color":"yellow","value":"Menu","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"50fefd65-c28e-4806-9183-aa12995f11f3","color":"pink","value":"SubMenu","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"b945f57d-dbcc-4603-9fab-5cfe447aad1b","color":"red","value":"Config","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]}]},"bB{M":{"name":"category","type":"select"},"d]hq":{"name":"slug","type":"text"},"sD^m":{"name":"tags","type":"multi_select","options":[{"id":"a027d99d-be10-412d-b94a-8c61f6eacc29","color":"default","value":"存储","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"4bd9608a-d7d6-4597-beb7-d4849da04909","color":"gray","value":"分布式系统","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"ad04c718-fd54-4374-bfed-6c7e9dc65e01","color":"blue","value":"折腾","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"25bff120-77fb-40f1-9531-00997afcb444","color":"purple","value":"Linux","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"e12d005d-ec78-4876-950d-2399744abbaa","color":"blue","value":"内核","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"c7950cbd-8d2c-4cbe-8bb1-679fb433a74f","color":"red","value":"碎碎念","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"be9970b9-6fe4-4351-92c2-1e3e41d2a3e3","color":"brown","value":"Cloud Native","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"61c97435-c65a-40b1-9e95-2c6345b6f9d3","color":"pink","value":"Vim","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"d18e22d6-cbbb-4311-9928-7c5b58124456","color":"orange","value":"论文阅读","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"526115da-04f3-4be2-8a47-c83c7576b0de","color":"green","value":"Kubernetes","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"12016016-3ecc-4ee7-92c6-6973678fdd05","color":"yellow","value":"数据库","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"1edc83b3-f351-4a21-aafc-3b059d0c0f22","color":"brown","value":"Raft","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"158014da-08eb-49f4-97ad-1ce6f6e0ee5c","color":"orange","value":"Rust","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"e93f6dd2-caed-4531-9ee1-28fc2cbf1811","color":"yellow","value":"旅行","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"c885be61-3b71-4d5f-86cc-4da1586e660a","color":"blue","value":"PVE","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"d4f1c8d8-1d0f-47af-a440-4dc14b658610","color":"blue","value":"日语","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"be95bbc7-1806-4b7e-8b58-1f540ac0f223","color":"red","value":"网络","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"9bb01875-d8ae-4914-a41b-5eccd75e824f","color":"blue","value":"操作系统","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]}]},"wz|S":{"name":"summary","type":"text"},"title":{"name":"title","type":"title"},"f211bdc0-ee00-4186-9a7d-f68c055ec2ee":{"name":"status","type":"select","options":[{"id":"7abc61d4-b405-480d-b699-12588755fa65","color":"red","value":"Published","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"d1242312-e0a8-456d-b8f0-6e998e2c4fb2","color":"orange","value":"Invisible","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]},{"id":"41d5f5c6-b53c-42bc-8e0f-fc9402048480","color":"yellow","value":"Draft","collectionIds":["0bb2e606-8d0c-4f7c-aca9-70986e90c055"]}]}},"icon":"https://prod-files-secure.s3.us-west-2.amazonaws.com/4cc04375-345a-4a1e-bdf0-3a7c88ef0425/49b4570c-b2f0-457b-81b7-b68e2693a471/avatar.png","cover":"https://prod-files-secure.s3.us-west-2.amazonaws.com/4cc04375-345a-4a1e-bdf0-3a7c88ef0425/a9af1d6b-f284-4734-ba06-990353cf3f84/Elaina.jpg","format":{"copied_from_pointer":{"id":"4379bc14-5d22-453b-a153-12639616fc01","table":"collection","spaceId":"6c096b44-beb9-48ee-8f92-1efdde47f3a3"},"property_visibility":[{"property":"`gQ~","visibility":"show"},{"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee","visibility":"show"},{"property":"NX\\Q","visibility":"show"},{"property":"d]hq","visibility":"show"},{"property":"wz|S","visibility":"show"},{"property":"sD^m","visibility":"show"},{"property":"bB{M","visibility":"show"},{"property":"Dj]h","visibility":"hide_if_empty"},{"property":"uHoD","visibility":"show"},{"property":"kiCR","visibility":"hide"}],"ai_suggested_properties":[{"name":"created by","type":"person"},{"name":"updated at","type":"date"},{"name":"priority","type":"select","options":[{"id":"OqCJ","color":"purple","value":"low"},{"id":"X{Pz","color":"pink","value":"medium"},{"id":"LRCx","color":"red","value":"high"},{"id":"VY?=","color":"yellow","value":"urgent"}]},{"name":"visibility","type":"select","options":[{"id":"Q=_{","color":"red","value":"public"},{"id":"A|Nj","color":"green","value":"private"},{"id":"MWlx","color":"gray","value":"restricted"}]},{"name":"attachments","type":"file"},{"name":"related links","type":"multi_select","options":[{"id":"I^W\u003e","color":"default","value":"documentation"},{"id":"\u003cg\\P","color":"yellow","value":"tutorials"},{"id":"RMVI","color":"gray","value":"references"}]},{"name":"estimated completion","type":"date"},{"name":"contact email","type":"email"},{"name":"contact phone","type":"phone_number"},{"name":"is active","type":"checkbox"}],"collection_cover_position":0.6486,"collection_page_properties":[{"visible":false,"property":"`gQ~"},{"visible":false,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"visible":false,"property":"NX\\Q"},{"visible":false,"property":"d]hq"},{"visible":false,"property":"wz|S"},{"visible":false,"property":"sD^m"},{"visible":true,"property":"bB{M"},{"visible":true,"property":"Dj]h"},{"visible":true,"property":"@NcA"},{"visible":true,"property":"ckw_"}],"collection_default_template":{"template_page_id":"2eace25c-842c-46fd-9ccb-e9190981b6c3"}},"parent_id":"0dc306ca-50a6-4917-9b5a-85a61f0f66f5","parent_table":"block","alive":true,"file_ids":["6cf3dc36-2f98-4f0e-9679-1bdbb1485129","5520bd92-e709-4c0d-ad58-06923f23f7e9","624d393a-62e3-4464-a1bf-1c79ecd4fbda","d52f6766-3e32-4c3d-8529-46e1f214360f","abe3a0aa-2aff-4274-81bb-c2443d4ef9e2","a2a32795-101d-46aa-a7f6-eb35b8750166","29db38d2-d5fa-4fa6-8a92-3b527cfe80d1","49b4570c-b2f0-457b-81b7-b68e2693a471","a9af1d6b-f284-4734-ba06-990353cf3f84"],"copied_from":"4379bc14-5d22-453b-a153-12639616fc01","template_pages":["2eace25c-842c-46fd-9ccb-e9190981b6c3"],"migrated":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"}},"space":{"4cc04375-345a-4a1e-bdf0-3a7c88ef0425":{"role":"none"}},"collection_view":{"2efe7048-0d5f-4e04-8b4e-2a3793ad6aef":{"value":{"id":"2efe7048-0d5f-4e04-8b4e-2a3793ad6aef","version":99,"type":"table","name":"Published Post","format":{"table_wrap":false,"show_page_icon":true,"property_filters":[{"id":"1c5b2709-6f35-4692-b4db-cb219a62e22d","filter":{"filter":{"value":{"type":"exact","value":"Post"},"operator":"enum_is"},"property":"`gQ~"}},{"id":"860c7b26-627e-4972-b471-8e8bfca0d897","filter":{"filter":{"value":{"type":"exact","value":"Published"},"operator":"enum_is"},"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"}}],"table_properties":[{"wrap":false,"width":100,"visible":true,"property":"`gQ~"},{"wrap":false,"width":263,"visible":true,"property":"title"},{"wrap":false,"width":233,"visible":true,"property":"wz|S"},{"wrap":false,"width":100,"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"wrap":false,"width":219,"visible":true,"property":"sD^m"},{"wrap":false,"width":184,"visible":true,"property":"d]hq"},{"wrap":false,"width":111,"visible":true,"property":"NX\\Q"},{"wrap":false,"width":100,"visible":false,"property":"bB{M"},{"wrap":false,"width":117,"visible":false,"property":"Dj]h"},{"wrap":false,"width":100,"visible":false,"property":"@NcA"}],"table_frozen_column_index":-1,"collection_view_default_template":{"template_page_id":"2eace25c-842c-46fd-9ccb-e9190981b6c3"}},"parent_id":"0dc306ca-50a6-4917-9b5a-85a61f0f66f5","parent_table":"block","alive":true,"page_sort":["cc459e5b-0f15-4a0c-83db-bb6bf2001aa3","a9bfecc8-9761-4987-9aca-af79d4ebbd0c","7aa40ad8-1e69-4d56-b245-d135d3101cec","e4eefa7d-e2f2-44ed-83f6-fd6951d50900","0f9b7a0d-ad15-4ece-8a8b-948d96b50ff7","58a216ce-4d8d-4b60-906c-6097c5fd8d41","b824f35b-aee9-4a22-81c9-d44b65f99f43","ba565c08-0d2f-46cb-9fcb-5eeface44dfb","560c76dd-c69f-429b-827d-7974407bb23f","0533a861-81cc-40fa-8ab8-5be721800b86","3578fa31-ea0a-4e07-82dc-28704e0dc685","f2625c60-ca69-493b-858c-bf38979f468c","96b14e20-e592-42f6-b7d2-357f4693f18c","fe8fafec-6d1b-4fbb-8a7a-fb079a6bb8e4","9345db3a-b8bd-4e02-b296-9734958eddb6","26e8ddc4-10b4-4765-a96d-e87290556164","840f0871-b58b-428d-8a28-0861947974b4","5787bc4f-06a4-4158-a27f-6c81fb9b1efe","e1bff221-486f-42c8-9cf3-6379f83f3510","2db01777-47d0-4230-bbe8-ef65ab694707","ab0d5acb-9230-4656-9c49-1aff13aba865","98330ff5-71d2-4ea9-945a-ba76fc282e9d","71439e60-5784-4dc5-b71f-e4cd7b0c4304","bfe53f5c-d4bd-4df7-a071-84db62310ad2","0606268b-9014-490d-b84d-d41d4be8df11","c09a05a2-6ab7-41e1-b23c-9e442cd61f6e","13a88756-3979-80cb-a5e6-fd37fcff6613","8bc2fda4-9fb5-4a89-95b8-c8c175e462c2","459c966a-bb34-47d2-ba4c-b1f0509ab033","022b3625-9f9f-42e0-a8a4-64bae1929d2f","d1a9da33-04a6-4f8b-8458-83aabde787be","40557fff-8f06-4643-be33-a0aab52b28be","b1c009da-991f-4449-b945-6bc4584cca98","fee7a505-5f8e-4186-9b2d-4c80ebee5077","df084444-e2d8-412a-bd56-c6b2c1046d5d","10d88756-3979-807a-bc25-cf64eed2ccce","14088756-3979-8047-9d4d-c9c8e2152b95","14688756-3979-806c-af3c-f23f4c85d88e","12988756-3979-8065-aeb4-e6ec1258ed90","94e03781-e74c-41d0-89f7-df2e2a7ad93f","11688756-3979-8028-b7d8-ce8bf2ec4253","11d88756-3979-8080-877d-cf9a2d058532","4e5d7fc0-68d5-4165-ba12-b2d8bfc7d92c","5b4b2d85-43c0-4edb-ad2d-0f14d79b4c4b","a06c26b2-5941-43ea-a89e-d0bebab47add","bde25ba8-2381-4da6-bb5e-5787ace45def","0e96a78e-dec9-4620-b0e8-a2b889017cb7","832b2511-aada-4c80-903c-1aadd7db46ce","2672b128-6cb0-4b3a-b54b-6b356a4ffbdd","634565f7-7a6e-4c4e-ac58-77b12c21f7ab","6e0bb534-679f-424e-80b3-e9bee483b7e8","da88c0a2-fce1-4336-97e7-61bc4149027a","0ee52933-5891-4387-a10c-921468884ab4","f086cce1-bf32-4be2-9fab-8529a2186ba3","e50dd6f9-49d4-4c3a-b723-da54361b34d5","3f554fe3-c9cb-4f63-99b2-f90f395308f6","eaf25f44-f59e-48d1-b475-a28066593688","af6f6570-0d18-4c3d-9145-3ee677a60c35","4c1d6186-e507-4ca2-9c02-d32dfbe2cca5","ff668a4c-0b15-45ec-9716-42f1af578ece","ce720858-10b7-4c0c-8083-906f29150a81","9ee7cbfe-3f95-4fc7-aab6-0d03c30a1e1b","3a554c07-e77f-43fa-ba66-ff39cf1e0ca5","4194acae-3f4b-4c08-98b9-907a0b5bd4b9","ce969492-bca9-4a45-8730-9ae753bdd027","368e5462-3dca-4c8b-ab1f-595cb04c56e0","d26ce18a-fa8d-4df4-8b82-69c419c5b621","3327d648-8e54-4edf-a38e-a9cba8884a1a","d5fd419b-4cb7-44c8-a8d7-0c8ed44c1963","deaccfa2-4562-437c-874e-fc5041f3fad5","f26f0a34-d6f1-419a-b91b-e0ea3639fe4b","a23d61e0-cc90-4068-bfb0-986afaf60ac5","cc463e20-63ea-4132-acea-84fc7307dde8","1eecd7c4-1e60-4aff-adbf-ccc85f820ef2","514ae2e3-a0d5-414c-86e5-ed5f8a9eb9c8","7b0eb02d-8b44-45f3-b593-52c0a62f4595","37c4cfd9-62a3-41bb-9989-f9df38c45d04","8aa3f594-ff5d-4f99-b0a2-fa09bb32ba84","806f9f46-c738-4c87-9957-e73d11ec44bd","64ac0e55-b2ae-4c80-8226-7a1f4b4ed8da","4d7cb2a6-768c-42c7-aad0-8e56168076d5","1e5f4845-8e82-4ab1-aad9-0d4c9eed2fde","37e5fc82-97ee-4a59-9d0b-1f44e2977cc9","1ccc4db8-78ca-45b9-947b-5d216a3e0667","f3550fb0-346c-4212-b57f-86433738b50b","7d2888d0-b55f-4909-97bf-944e56f19c0e","d9436315-195f-458c-93ac-09e5b8780171","51b42828-cae5-456b-9c2f-9b4b2232380e","280fbd32-0621-4ccb-babb-5790a693090e","1ffb90ba-821d-4d16-8520-e46604a470d7","adc7c47b-6dd7-439f-9e06-6075256c91a7","d6ba00e3-fb3f-4f30-9fa7-23c0b0712cdd","2eb83ae6-642d-45a1-a8a4-04463c20dc4b","c248bc92-b7a1-4f5b-a0a9-f1d5186a8dae","9900ca48-1c4f-44e3-9dae-ab5bd1633d6c","f9e566d7-45f7-4335-afe7-506247cd0b8e","a0b1590c-24bd-41dd-a6e0-b3cdac7bb4e6","8c6e229b-cbd3-4dc6-9b49-34f701a8aead","1467d162-f107-4606-b5dc-ec538ede0fdd","09bb7c8f-a916-4a39-bd01-2786a14bacc4","9e017f37-5917-4cda-afb8-92072abdbdba","8aafeb2c-85b4-4c4e-af36-3b9efacb167c","6d0e0705-57f3-4223-8745-a27295245029","dec89a30-7004-499f-a99e-05b2842cad2b","7efc83d4-2645-4578-b588-a9cffb15524a","1769e8de-bebe-4687-a28a-34c15859ed98","203f2c30-a3cd-4f70-95b3-07df9f996428","2a0b435c-6f77-4db8-be6b-831d177bd762","eac01009-c323-46fd-8339-09c282e6597e","c4b37f96-4ab0-4a0b-a16e-55bac3e32990","4ad5c69e-0dab-4d66-b548-360da7d53568","72d89744-ac04-4dd4-be8b-9d629acd7c11","32dc3358-e954-4934-9e71-cf1dfbca5b91","961e45bd-8bed-4ebc-b3d8-1f0e63736d04"],"query2":{"aggregations":[{"property":"title","aggregator":"count"}]},"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"55d7f55d-3bd1-4a1a-97c9-a6c8354ecd3d":{"value":{"id":"55d7f55d-3bd1-4a1a-97c9-a6c8354ecd3d","version":1,"type":"table","name":"Config","format":{"gallery_cover":{"type":"page_content"},"list_properties":[{"visible":true,"property":"NX\\Q"},{"visible":true,"property":"d]hq"},{"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"visible":true,"property":"sD^m"},{"visible":true,"property":"`gQ~"},{"visible":false,"property":"wz|S"},{"visible":false,"property":"bB{M"},{"visible":false,"property":"Dj]h"},{"visible":false,"property":"@NcA"}],"property_filters":[{"id":"b54a6c88-635d-4de4-946e-5a855a1f4069","filter":{"filter":{"value":[{"type":"exact","value":"Notice"},{"type":"exact","value":"Menu"},{"type":"exact","value":"Config"},{"type":"exact","value":"SubMenu"},{"type":"exact","value":"Page"}],"operator":"enum_is"},"property":"`gQ~"}}],"table_properties":[{"width":116,"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"width":118,"visible":true,"property":"`gQ~"},{"width":219,"visible":true,"property":"title"},{"width":326,"visible":true,"property":"d]hq"},{"width":352,"visible":true,"property":"wz|S"},{"width":111,"visible":true,"property":"NX\\Q"},{"width":116,"visible":true,"property":"bB{M"},{"width":142,"visible":true,"property":"sD^m"},{"width":100,"visible":true,"property":"@NcA"},{"width":117,"visible":true,"property":"Dj]h"}],"gallery_properties":[{"visible":true,"property":"title"},{"visible":true,"property":"d]hq"},{"visible":true,"property":"`gQ~"},{"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"visible":false,"property":"bB{M"},{"visible":false,"property":"NX\\Q"},{"visible":false,"property":"Dj]h"},{"visible":false,"property":"@NcA"},{"visible":false,"property":"wz|S"},{"visible":false,"property":"sD^m"}],"table_frozen_column_index":-1,"table_subitem_toggle_column":"title"},"parent_id":"0dc306ca-50a6-4917-9b5a-85a61f0f66f5","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"8dfd415c-71af-41f9-b984-e7182bf2210b":{"value":{"id":"8dfd415c-71af-41f9-b984-e7182bf2210b","version":1,"type":"board","name":"Post Board","format":{"board_columns":[{"value":{"type":"select","value":"Draft"},"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"value":{"type":"select","value":"Invisible"},"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"value":{"type":"select","value":"Published"},"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"value":{"type":"select"},"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"}],"board_columns_by":{"sort":{"type":"manual"},"type":"select","property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},"board_properties":[{"visible":true,"property":"title"},{"visible":true,"property":"bB{M"},{"visible":true,"property":"sD^m"},{"visible":true,"property":"wz|S"},{"visible":false,"property":"NX\\Q"},{"visible":false,"property":"Dj]h"},{"visible":false,"property":"@NcA"},{"visible":false,"property":"d]hq"},{"visible":false,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"visible":false,"property":"`gQ~"}],"table_properties":[{"width":100,"visible":true,"property":"`gQ~"},{"width":116,"visible":true,"property":"bB{M"},{"width":142,"visible":true,"property":"sD^m"},{"width":219,"visible":true,"property":"title"},{"width":100,"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"width":155,"visible":true,"property":"d]hq"},{"width":352,"visible":true,"property":"wz|S"},{"width":111,"visible":true,"property":"NX\\Q"},{"width":100,"visible":true,"property":"@NcA"},{"width":117,"visible":true,"property":"Dj]h"}],"table_subitem_toggle_column":"title"},"parent_id":"0dc306ca-50a6-4917-9b5a-85a61f0f66f5","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"3c2f93d8-6810-42a1-87da-55f1ecda9bca":{"value":{"id":"3c2f93d8-6810-42a1-87da-55f1ecda9bca","version":74,"type":"chart","name":"Tag","format":{"chart_config":{"type":"column","dataConfig":{"type":"groups_reducer","groupBy":{"sort":{"type":"manual"},"type":"multi_select","property":"sD^m","hideEmptyGroups":false},"aggregationConfig":{"aggregation":{"aggregator":"count"},"seriesFormat":{"displayType":"column"}}},"chartFormat":{"mainSort":"manual","hideLegend":false,"axisCumulative":false,"axisGroupStyle":"normal","donutHideValue":false,"donutDataLabels":"value","axisShowDataLabels":true,"axisHideEmptyGroups":false}},"property_filters":[{"id":"01739a9c-9312-4d0d-bf7d-de1204300bdb","filter":{"filter":{"value":{"type":"exact","value":"Post"},"operator":"enum_is"},"property":"`gQ~"}},{"id":"3e615570-2c44-41d9-ae7c-603eabc9056e","filter":{"filter":{"value":{"type":"exact","value":"Published"},"operator":"enum_is"},"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"}}],"table_properties":[{"width":100,"visible":true,"property":"`gQ~"},{"width":247,"visible":true,"property":"title"},{"width":233,"visible":true,"property":"wz|S"},{"width":100,"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"width":219,"visible":true,"property":"sD^m"},{"width":184,"visible":true,"property":"d]hq"},{"width":111,"visible":true,"property":"NX\\Q"},{"width":100,"visible":false,"property":"bB{M"},{"width":117,"visible":false,"property":"Dj]h"},{"width":100,"visible":false,"property":"@NcA"}],"subitem_display_mode":"flattened","table_subitem_toggle_column":"title"},"parent_id":"0dc306ca-50a6-4917-9b5a-85a61f0f66f5","parent_table":"block","alive":true,"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"},"14588756-3979-8039-9990-000cefddccf8":{"value":{"id":"14588756-3979-8039-9990-000cefddccf8","version":4,"type":"table","name":"All Post","format":{"table_wrap":false,"show_page_icon":true,"property_filters":[{"id":"eacd5736-8f45-4d4d-97ce-21001f75dceb","filter":{"filter":{"value":{"type":"exact","value":"Post"},"operator":"enum_is"},"property":"`gQ~"}}],"table_properties":[{"wrap":false,"width":100,"visible":true,"property":"`gQ~"},{"wrap":false,"width":263,"visible":true,"property":"title"},{"wrap":false,"width":233,"visible":true,"property":"wz|S"},{"wrap":false,"width":100,"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"wrap":false,"width":219,"visible":true,"property":"sD^m"},{"wrap":false,"width":184,"visible":true,"property":"d]hq"},{"wrap":false,"width":111,"visible":true,"property":"NX\\Q"},{"wrap":false,"width":100,"visible":false,"property":"bB{M"},{"wrap":false,"width":117,"visible":false,"property":"Dj]h"},{"wrap":false,"width":100,"visible":false,"property":"@NcA"}],"table_frozen_column_index":-1,"collection_view_default_template":{"template_page_id":"2eace25c-842c-46fd-9ccb-e9190981b6c3"}},"parent_id":"0dc306ca-50a6-4917-9b5a-85a61f0f66f5","parent_table":"block","alive":true,"page_sort":["cc459e5b-0f15-4a0c-83db-bb6bf2001aa3","a9bfecc8-9761-4987-9aca-af79d4ebbd0c","7aa40ad8-1e69-4d56-b245-d135d3101cec","e4eefa7d-e2f2-44ed-83f6-fd6951d50900","0f9b7a0d-ad15-4ece-8a8b-948d96b50ff7","58a216ce-4d8d-4b60-906c-6097c5fd8d41","b824f35b-aee9-4a22-81c9-d44b65f99f43","ba565c08-0d2f-46cb-9fcb-5eeface44dfb","560c76dd-c69f-429b-827d-7974407bb23f","0533a861-81cc-40fa-8ab8-5be721800b86","3578fa31-ea0a-4e07-82dc-28704e0dc685","f2625c60-ca69-493b-858c-bf38979f468c","96b14e20-e592-42f6-b7d2-357f4693f18c","fe8fafec-6d1b-4fbb-8a7a-fb079a6bb8e4","9345db3a-b8bd-4e02-b296-9734958eddb6","26e8ddc4-10b4-4765-a96d-e87290556164","840f0871-b58b-428d-8a28-0861947974b4","5787bc4f-06a4-4158-a27f-6c81fb9b1efe","e1bff221-486f-42c8-9cf3-6379f83f3510","2db01777-47d0-4230-bbe8-ef65ab694707","ab0d5acb-9230-4656-9c49-1aff13aba865","98330ff5-71d2-4ea9-945a-ba76fc282e9d","71439e60-5784-4dc5-b71f-e4cd7b0c4304","bfe53f5c-d4bd-4df7-a071-84db62310ad2","0606268b-9014-490d-b84d-d41d4be8df11","c09a05a2-6ab7-41e1-b23c-9e442cd61f6e","13a88756-3979-80cb-a5e6-fd37fcff6613","8bc2fda4-9fb5-4a89-95b8-c8c175e462c2","459c966a-bb34-47d2-ba4c-b1f0509ab033","022b3625-9f9f-42e0-a8a4-64bae1929d2f","d1a9da33-04a6-4f8b-8458-83aabde787be","40557fff-8f06-4643-be33-a0aab52b28be","b1c009da-991f-4449-b945-6bc4584cca98","fee7a505-5f8e-4186-9b2d-4c80ebee5077","df084444-e2d8-412a-bd56-c6b2c1046d5d","10d88756-3979-807a-bc25-cf64eed2ccce","14088756-3979-8047-9d4d-c9c8e2152b95","12988756-3979-8065-aeb4-e6ec1258ed90","94e03781-e74c-41d0-89f7-df2e2a7ad93f","11688756-3979-8028-b7d8-ce8bf2ec4253","11d88756-3979-8080-877d-cf9a2d058532","4e5d7fc0-68d5-4165-ba12-b2d8bfc7d92c","5b4b2d85-43c0-4edb-ad2d-0f14d79b4c4b","a06c26b2-5941-43ea-a89e-d0bebab47add","bde25ba8-2381-4da6-bb5e-5787ace45def","0e96a78e-dec9-4620-b0e8-a2b889017cb7","832b2511-aada-4c80-903c-1aadd7db46ce","2672b128-6cb0-4b3a-b54b-6b356a4ffbdd","634565f7-7a6e-4c4e-ac58-77b12c21f7ab","6e0bb534-679f-424e-80b3-e9bee483b7e8","da88c0a2-fce1-4336-97e7-61bc4149027a","0ee52933-5891-4387-a10c-921468884ab4","f086cce1-bf32-4be2-9fab-8529a2186ba3","e50dd6f9-49d4-4c3a-b723-da54361b34d5","3f554fe3-c9cb-4f63-99b2-f90f395308f6","eaf25f44-f59e-48d1-b475-a28066593688","af6f6570-0d18-4c3d-9145-3ee677a60c35","4c1d6186-e507-4ca2-9c02-d32dfbe2cca5","ff668a4c-0b15-45ec-9716-42f1af578ece","ce720858-10b7-4c0c-8083-906f29150a81","9ee7cbfe-3f95-4fc7-aab6-0d03c30a1e1b","3a554c07-e77f-43fa-ba66-ff39cf1e0ca5","4194acae-3f4b-4c08-98b9-907a0b5bd4b9","ce969492-bca9-4a45-8730-9ae753bdd027","368e5462-3dca-4c8b-ab1f-595cb04c56e0","d26ce18a-fa8d-4df4-8b82-69c419c5b621","3327d648-8e54-4edf-a38e-a9cba8884a1a","d5fd419b-4cb7-44c8-a8d7-0c8ed44c1963","deaccfa2-4562-437c-874e-fc5041f3fad5","f26f0a34-d6f1-419a-b91b-e0ea3639fe4b","a23d61e0-cc90-4068-bfb0-986afaf60ac5","cc463e20-63ea-4132-acea-84fc7307dde8","1eecd7c4-1e60-4aff-adbf-ccc85f820ef2","514ae2e3-a0d5-414c-86e5-ed5f8a9eb9c8","7b0eb02d-8b44-45f3-b593-52c0a62f4595","37c4cfd9-62a3-41bb-9989-f9df38c45d04","8aa3f594-ff5d-4f99-b0a2-fa09bb32ba84","806f9f46-c738-4c87-9957-e73d11ec44bd","64ac0e55-b2ae-4c80-8226-7a1f4b4ed8da","4d7cb2a6-768c-42c7-aad0-8e56168076d5","1e5f4845-8e82-4ab1-aad9-0d4c9eed2fde","37e5fc82-97ee-4a59-9d0b-1f44e2977cc9","1ccc4db8-78ca-45b9-947b-5d216a3e0667","f3550fb0-346c-4212-b57f-86433738b50b","7d2888d0-b55f-4909-97bf-944e56f19c0e","d9436315-195f-458c-93ac-09e5b8780171","51b42828-cae5-456b-9c2f-9b4b2232380e","280fbd32-0621-4ccb-babb-5790a693090e","1ffb90ba-821d-4d16-8520-e46604a470d7","adc7c47b-6dd7-439f-9e06-6075256c91a7","d6ba00e3-fb3f-4f30-9fa7-23c0b0712cdd","2eb83ae6-642d-45a1-a8a4-04463c20dc4b","c248bc92-b7a1-4f5b-a0a9-f1d5186a8dae","9900ca48-1c4f-44e3-9dae-ab5bd1633d6c","f9e566d7-45f7-4335-afe7-506247cd0b8e","a0b1590c-24bd-41dd-a6e0-b3cdac7bb4e6","8c6e229b-cbd3-4dc6-9b49-34f701a8aead","1467d162-f107-4606-b5dc-ec538ede0fdd","09bb7c8f-a916-4a39-bd01-2786a14bacc4","9e017f37-5917-4cda-afb8-92072abdbdba","8aafeb2c-85b4-4c4e-af36-3b9efacb167c","6d0e0705-57f3-4223-8745-a27295245029","dec89a30-7004-499f-a99e-05b2842cad2b","7efc83d4-2645-4578-b588-a9cffb15524a","1769e8de-bebe-4687-a28a-34c15859ed98","203f2c30-a3cd-4f70-95b3-07df9f996428","2a0b435c-6f77-4db8-be6b-831d177bd762","eac01009-c323-46fd-8339-09c282e6597e","c4b37f96-4ab0-4a0b-a16e-55bac3e32990","4ad5c69e-0dab-4d66-b548-360da7d53568","72d89744-ac04-4dd4-be8b-9d629acd7c11","32dc3358-e954-4934-9e71-cf1dfbca5b91","961e45bd-8bed-4ebc-b3d8-1f0e63736d04"],"query2":{"aggregations":[{"property":"title","aggregator":"count"}]},"space_id":"4cc04375-345a-4a1e-bdf0-3a7c88ef0425"},"role":"reader"}},"notion_user":{},"collection_query":{},"signed_urls":{}}},"prev":{"id":"14688756-3979-806c-af3c-f23f4c85d88e","date":{"start_date":"2024-11-22","date_format":"relative"},"type":"Post","slug":"post/coroutine","tags":["操作系统"],"summary":"最近经常被各种人问到一些关于协程的事情，例如 xx 语言的 xx 是不是协程，xx 语言和 xx 语言的协程有什么区别，我不得不一次次 share 出我的文章，索性直接发到 blog 上吧","title":"浅谈协程","status":"Published","category":"","comment":"","publishDate":1732233600000,"publishDay":"2024-11-22","lastEditedDate":"2024-11-22T13:43:18.855Z","lastEditedDay":"2024-11-22","fullWidth":false,"pageIcon":"","pageCover":"","pageCoverThumbnail":"","ext":{},"tagItems":[{"name":"操作系统","color":"blue"}],"href":"/post/coroutine","target":"_self","password":""},"next":{"id":"94e03781-e74c-41d0-89f7-df2e2a7ad93f","date":{"start_date":"2024-10-27","date_format":"relative"},"type":"Post","slug":"post/db-mmap","tags":["论文阅读","数据库"],"title":"应该在 DBMS 中使用 MMAP 吗？","status":"Published","category":"","comment":"","publishDate":1729987200000,"publishDay":"2024-10-27","lastEditedDate":"2024-11-03T07:26:55.807Z","lastEditedDay":"2024-11-3","fullWidth":false,"pageIcon":"","pageCover":"","pageCoverThumbnail":"","ext":{},"tagItems":[{"name":"论文阅读","color":"orange"},{"name":"数据库","color":"yellow"}],"href":"/post/db-mmap","target":"_self","password":""},"recommendPosts":[{"id":"94e03781-e74c-41d0-89f7-df2e2a7ad93f","date":{"start_date":"2024-10-27","date_format":"relative"},"type":"Post","slug":"post/db-mmap","tags":["论文阅读","数据库"],"title":"应该在 DBMS 中使用 MMAP 吗？","status":"Published","category":"","comment":"","publishDate":1729987200000,"publishDay":"2024-10-27","lastEditedDate":"2024-11-03T07:26:55.807Z","lastEditedDay":"2024-11-3","fullWidth":false,"pageIcon":"","pageCover":"","pageCoverThumbnail":"","ext":{},"tagItems":[{"name":"论文阅读","color":"orange"},{"name":"数据库","color":"yellow"}],"href":"/post/db-mmap","target":"_self","password":""},{"id":"bde25ba8-2381-4da6-bb5e-5787ace45def","date":{"start_date":"2024-08-08","date_format":"relative"},"type":"Post","slug":"post/longhorn","tags":["存储","分布式系统"],"summary":"Longhorn 是一个 Go 实现的 Cloud Native Storage，比较好奇作为一个提供块存储的分布式存储系统，使用 Go 实现，会面临哪些挑战，性能方面要又要如何优化","title":"Longhorn 浅析","status":"Published","category":"","comment":"","publishDate":1723075200000,"publishDay":"2024-8-8","lastEditedDate":"2024-10-08T10:27:34.636Z","lastEditedDay":"2024-10-8","fullWidth":false,"pageIcon":"","pageCover":"https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2Fc3967b7e-bde2-4b5b-b5f6-97de21642f16%2Flonghorn.png?table=block\u0026id=bde25ba8-2381-4da6-bb5e-5787ace45def\u0026t=bde25ba8-2381-4da6-bb5e-5787ace45def\u0026width=800\u0026cache=v2","pageCoverThumbnail":"https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F4cc04375-345a-4a1e-bdf0-3a7c88ef0425%2Fc3967b7e-bde2-4b5b-b5f6-97de21642f16%2Flonghorn.png?table=block\u0026id=bde25ba8-2381-4da6-bb5e-5787ace45def\u0026t=bde25ba8-2381-4da6-bb5e-5787ace45def\u0026width=800\u0026cache=v2","ext":{},"tagItems":[{"name":"存储","color":"default"},{"name":"分布式系统","color":"gray"}],"href":"/post/longhorn","target":"_self","password":""},{"id":"1eecd7c4-1e60-4aff-adbf-ccc85f820ef2","date":{"start_date":"2022-02-14","date_format":"relative"},"type":"Post","slug":"post/gfs-paper","tags":["论文阅读","分布式系统"],"title":"The Google File System 论文概览","status":"Published","category":"","comment":"","publishDate":1644796800000,"publishDay":"2022-2-14","lastEditedDate":"2024-08-27T15:25:15.003Z","lastEditedDay":"2024-8-27","fullWidth":false,"pageIcon":"","pageCover":"","pageCoverThumbnail":"","ext":{},"tagItems":[{"name":"论文阅读","color":"orange"},{"name":"分布式系统","color":"gray"}],"href":"/post/gfs-paper","target":"_self","password":""},{"id":"514ae2e3-a0d5-414c-86e5-ed5f8a9eb9c8","date":{"start_date":"2022-02-12","date_format":"relative"},"type":"Post","slug":"post/mit6824-lab1-mapreduce","tags":["分布式系统"],"title":"MIT6.824 Lab1 MapReduce","status":"Published","category":"","comment":"","publishDate":1644624000000,"publishDay":"2022-2-12","lastEditedDate":"2024-08-27T15:25:13.836Z","lastEditedDay":"2024-8-27","fullWidth":false,"pageIcon":"","pageCover":"","pageCoverThumbnail":"","ext":{},"tagItems":[{"name":"分布式系统","color":"gray"}],"href":"/post/mit6824-lab1-mapreduce","target":"_self","password":""}]},"__N_SSG":true},"page":"/[prefix]/[slug]","query":{"prefix":"post","slug":"memorydb"},"buildId":"bV5ZgtvRYvoAuDGZEcRQR","runtimeConfig":{"NODE_ENV_API":"prod","THEMES":["autumn","commerce","example","fukasawa","game","gitbook","heo","hexo","landing","matery","medium","movie","nav","next","nobelium","plog","simple","starter"]},"isFallback":false,"dynamicIds":[10635,46767],"gsp":true,"scriptLoader":[]}</script></body></html>